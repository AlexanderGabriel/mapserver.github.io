<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MapServer параметры CGI &#8212; MapServer 7.0.7 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="Об этих документах" href="../about.html" />
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="copyright" title="Авторские права" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.7 documentation" href="../index.html" />
    <link rel="up" title="CGI" href="index.html" />
    <link rel="next" title="Run-time Substitution" href="runsub.html" />
    <link rel="prev" title="Map Context Files" href="mapcontext.html" /> 
  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../cgi/controls.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/cgi/controls.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/cgi/controls.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/cgi/controls.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/cgi/controls.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../fr/cgi/controls.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
          
        
        
          
            <a href="../../id/cgi/controls.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/cgi/controls.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/cgi/controls.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/cgi/controls.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/cgi/controls.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        <img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" width="18px" height="13px"/>
        
          
            <a href="../../sq/cgi/controls.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/cgi/controls.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="runsub.html" title="Run-time Substitution"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context Files"
             accesskey="P">назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Документация MapServer 7.0.7</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">CGI</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mapserver-cgi-controls">
<span id="cgi-controls"></span><span id="index-0"></span><h1>MapServer параметры CGI<a class="headerlink" href="#mapserver-cgi-controls" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="variables">
<h2>Переменные<a class="headerlink" href="#variables" title="Ссылка на этот заголовок">¶</a></h2>
<p>Имена переменных не зависят от регистра.</p>
<dl class="docutils" id="index-1">
<dt>BUFFER [distance]</dt>
<dd><p class="first last">Дистанция, в той же координатной системе, что и map-файл, которая используется для создания нового охвата карты, в сочетании с MAPXY.</p>
</dd>
</dl>
<dl class="docutils" id="index-2">
<dt>CLASSGROUP [name]</dt>
<dd><p class="first last">Название группы классов в слое <a class="reference internal" href="../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> CLASSGROUP.  Требуется задать <a class="reference internal" href="../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> <cite>CLASSGROUP</cite> в имя <cite>name</cite> во всех слоях, имеющих как минимум один класс <a class="reference internal" href="../mapfile/class.html#class"><span class="std std-ref">CLASS</span></a>, который входит в группу CLASSGROUP <cite>name</cite>.</p>
</dd>
</dl>
<dl class="docutils" id="index-3">
<dt>CONTEXT [filename]</dt>
<dd><p class="first last">Путь к файлу контекста. Можно использовать путь относительно map-файла , или использовать URL (Смотри раздел &#8220;Map Context Support Through CGI&#8221; ниже для пояснений).</p>
</dd>
</dl>
<dl class="docutils" id="index-4">
<dt>ICON [layername],[classindex]</dt>
<dd><p class="first last">Используется в режиме легенды MODE=legendicon для рендеринга иконки слоя. Индекс класса можно не указывать, по-умолчанию равен 0.</p>
</dd>
</dl>
<dl class="docutils" id="index-5">
<dt>ID [id-string]</dt>
<dd>By default MapServer generates a unique session id based on system time
and process id. This parameter overwrites the default.</dd>
</dl>
<dl class="docutils" id="index-6">
<dt>IMG</dt>
<dd><p class="first">Название, ассоциированное с внутренним изображением карты, которое используется для записи кликов пользователей. В основном передаются две переменные img.x и img.y.</p>
<p class="last">Для приложений CGI это важная переменная, смотри примеры по применению.</p>
</dd>
</dl>
<dl class="docutils" id="index-7">
<dt>IMGBOX [x1] [y1] [x2] [y2]</dt>
<dd><p class="first last">Координаты (в пикселях) рамки сдвига в изображении drag. Чаще всего используют в сочетании с Java фронендами к MapServer.</p>
</dd>
</dl>
<dl class="docutils" id="index-8">
<dt>IMGEXT [minx] [miny] [maxx] [maxy]</dt>
<dd><p class="first last">Пространственный охват созданного внутреннего изображения, того что пользователь видит у себя в браузере.</p>
</dd>
</dl>
<dl class="docutils" id="index-9">
<dt>IMGSHAPE [x1 y1 x2 y2 x3 y3 ...] | [WKT]</dt>
<dd><p class="first">Произвольная фигура полигона (задается <strong>координатами изображения</strong>) для использования в запросах.</p>
<p>Полигон, или указанный по координатам (множество экземпляров добавляются как части фигуры, поэтому можно собрать фигуру с отверстиями) или в виде представления WKT (Well Known Text).</p>
<p class="last">Используется в режиме NQUERY.</p>
</dd>
</dl>
<dl class="docutils" id="index-10">
<dt>IMGSIZE [cols] [rows]</dt>
<dd><p class="first last">Размер (в пикселях) созданного внутреннего изображения.</p>
</dd>
</dl>
<dl class="docutils" id="index-11">
<dt>IMGXY [x] [y]</dt>
<dd><p class="first last">Координаты (в пикселях) однократного клика мышки. Чаще всего используют в сочетании с Java фронендами к MapServer.</p>
</dd>
</dl>
<dl class="docutils" id="index-12">
<dt>LAYER [name]</dt>
<dd><p class="first last">Имя слоя, как оно задано в map файле. Отправляются в mapserv только те имена слоев, у которых STATUS установлен в ON.</p>
</dd>
</dl>
<dl class="docutils" id="index-13">
<dt>LAYERS [name name ...]</dt>
<dd><p class="first">The names of the layers to be turned on. Layer names must be separated by
spaces.</p>
<p class="last">В версии 4.4 и выше: установка &#8216;LAYERS=all&#8217; задает автоматическое включение всех слоев.</p>
</dd>
</dl>
<dl class="docutils" id="index-14">
<dt>MAP [filename]</dt>
<dd><p class="first last">Путь к указанному map файлу, относительно папки CGI.</p>
</dd>
</dl>
<dl class="docutils" id="index-15">
<dt>MAPEXT [minx] [miny] [maxx] [maxy] , MAPEXT (shape)</dt>
<dd><p class="first">Пространственный охват создаваемой карты.</p>
<p class="last">Может быть задан как фигура, в виде дополнительно параметра. В этом случае охват устанавливается по выбранной фигуре. Используется в запросах.</p>
</dd>
</dl>
<dl class="docutils" id="index-16">
<dt>MAPSHAPE [x1 y1 x2 y2 x3 y3 ...] | [WKT]</dt>
<dd><p class="first">Произвольная фигура полигона (задается <strong>координатами карты</strong>) для использования в запросах.</p>
<p>Полигон, или указанный по координатам (множество экземпляров добавляются как части фигуры, поэтому можно собрать фигуру с отверстиями) или в виде представления WKT (Well Known Text).</p>
<p class="last">Используется в режиме NQUERY.</p>
</dd>
</dl>
<dl class="docutils" id="index-17">
<dt>MAPSIZE [cols] [rows]</dt>
<dd><p class="first last">Размер (в пикселях) изображения, которое будет создано. Полезен для пользователей, чтобы динамически менять разрешение карты на выходе.</p>
</dd>
</dl>
<dl class="docutils" id="index-18">
<dt>MAPXY [x] [y] , MAPXY (shape)</dt>
<dd><p class="first">A point, in the same coordinate system as the shapefiles, to be used in
conjunction with a buffer or a scale to construct a map extent.</p>
<p class="last">Может быть задан как фигура, в виде дополнительно параметра. В этом случае охват устанавливается по выбранной фигуре. Используется в запросах.</p>
</dd>
</dl>
<span class="target" id="index-19"></span><span class="target" id="index-20"></span><span class="target" id="index-21"></span><dl class="docutils" id="index-22">
<dt>MINX | MINY | MAXX | MAXY [number]</dt>
<dd><p class="first last">Минимальная/максимальная x/y координата пространственного охвата для новой карты или запроса. Эти параметры часть набора параметров MAPEXT.</p>
</dd>
</dl>
<dl class="docutils" id="index-23">
<dt>MODE [value]</dt>
<dd><p class="first">Режим работы. Поддерживаются следующие режимы:</p>
<dl class="docutils" id="index-24">
<dt>BROWSE</dt>
<dd><p class="first last">Полностью интерактивный интерфейс, где создаются карты (и интерактивные страницы). Это режим по-умолчанию.</p>
</dd>
</dl>
<dl class="docutils" id="index-25">
<dt>COORDINATE</dt>
<dd><p class="first">Returns a string of map coordinates based on a user click on an image.</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>mapserv.exe?map=/mapfiles/gmap75.map&amp;MODE=coordinate&amp;IMGEXT=0 0 100 100&amp;IMGXY=10 10
</pre></div>
</div>
</dd>
</dl>
<dl class="docutils" id="index-26">
<dt>FEATURENQUERY</dt>
<dd><p class="first last">Пространственный поиск, который использует множество объектов из SLAYER для запроса по другим слоям.</p>
</dd>
</dl>
<dl class="docutils" id="index-27">
<dt>FEATUREQUERY</dt>
<dd><p class="first last">Пространственный поиск, который использует один объект из SLAYER для запроса по другим слоям.</p>
</dd>
</dl>
<dl class="docutils" id="index-28">
<dt>INDEXQUERY</dt>
<dd><p class="first last">Просмотр объектов, на основании значений параметров SHAPEINDEX и TILEINDEX. SHAPEINDEX требуется, TILEINDEX опциональный и применим только со слоями мозаика shapefile.</p>
</dd>
</dl>
<dl class="docutils" id="index-29">
<dt>ITEMFEATURENQUERY</dt>
<dd><p class="first last">Текстовый поиск по атрибутивным данным запускается QSTRING. Возвращает все совпадения. Слой по которому ведется поиск указан в параметре SLAYER. Результат поиска применяется ко всем  слоям (ограничение можно задать в параметре QLAYER).</p>
</dd>
</dl>
<dl class="docutils" id="index-30">
<dt>ITEMFEATUREQUERY</dt>
<dd><p class="first last">Текстовый поиск по атрибутивным данным запускается QSTRING. Возвращает первое совпадение. Слой по которому ведется поиск указан в параметре SLAYER. Результат поиска применяется ко всем  слоям (ограничение можно задать в параметре QLAYER).</p>
</dd>
</dl>
<dl class="docutils" id="index-31">
<dt>ITEMNQUERY</dt>
<dd><p class="first last">Текстовый поиск по атрибутивным данным запускается QSTRING. Возвращает все совпадения.</p>
</dd>
</dl>
<dl class="docutils" id="index-32">
<dt>ITEMQUERY</dt>
<dd><p class="first last">Текстовый поиск по атрибутивным данным запускается слоем QSTRING. Возвращает первое совпадение.</p>
</dd>
</dl>
<dl class="docutils" id="index-33">
<dt>LEGEND</dt>
<dd><p class="first last">Возвращает созданную легенду. Используется вместе с тегом  &lt;img ... &gt;.</p>
</dd>
</dl>
<dl class="docutils" id="index-34">
<dt>LEGENDICON</dt>
<dd><p class="first">Возвращает иконку легенды. Параметр ICON должен быть использован для указания имени слоя и индекса класса. Индекс класса необязательный и по-умолчанию равен 0. Например:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>mapserv.exe?map=/mapfiles/gmap75.map&amp;MODE=legendicon&amp;ICON=popplace,0
</pre></div>
</div>
</dd>
</dl>
<dl class="docutils" id="index-35">
<dt>MAP</dt>
<dd><p class="first last">Возвращает созданную карту. Используется вместе с тегом  &lt;img ... &gt;.</p>
</dd>
</dl>
<dl class="docutils" id="index-36">
<dt>NQUERY</dt>
<dd><p class="first last">Пространственный поиск (поиск всего) запускается по клику на карте или по рамке, выделенной пользователем.</p>
</dd>
</dl>
<dl class="docutils" id="index-37">
<dt>QUERY</dt>
<dd><p class="first last">Пространственный поиск (поиск ближайшего) запускается по клику на карте.</p>
</dd>
</dl>
<dl class="docutils" id="index-38">
<dt>REFERENCE</dt>
<dd><p class="first last">Возвращает референсную карту. Используется вместе с тегом  &lt;img ... &gt;.</p>
</dd>
</dl>
<dl class="docutils" id="index-39">
<dt>SCALEBAR</dt>
<dd><p class="first last">Возвращает созданную масштабную шкалу. Используется вместе с тегом  &lt;img ... &gt;.</p>
</dd>
</dl>
<dl class="docutils" id="index-40">
<dt>TILE</dt>
<dd>Generate a map tile. See <a class="reference internal" href="../output/tile_mode.html#tile-mode"><span class="std std-ref">Tile Mode</span></a> for details.</dd>
</dl>
<dl class="docutils" id="index-41">
<dt>ZOOMIN</dt>
<dd><p class="first last">Переключатель в режим BROWSE с параметром ZOOMDIR=1</p>
</dd>
</dl>
<dl class="docutils" id="index-42">
<dt>ZOOMOUT</dt>
<dd><p class="first last">Переключатель в режим BROWSE с параметром ZOOMDIR=-1</p>
</dd>
</dl>
<div class="last admonition note">
<p class="first admonition-title">Примечание</p>
<p class="last">Ранее доступные режимы запросов map-only, типа  ITEMQUERYMAP, более не поддерживаются. Используйте вместо этого параметр <cite>QFORMAT</cite>.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-43">
<dt>QFORMAT [outputformat | mime/type] (optional)</dt>
<dd><p class="first">Задается именем <cite>OUTPUTFORMAT</cite> или типом mime/type и будет использоваться в процессе обработки результатов запроса (в соответствии с параметром QUERYFORMAT объекта <a class="reference internal" href="../mapfile/web.html#web"><span class="std std-ref">WEB</span></a>). Параметр необязательный и применим с запросом <cite>MODE</cite>s. По-умолчанию значение text/html.</p>
<p>Например (вывод карты):</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">mode</span><span class="o">=</span><span class="n">nquery</span><span class="o">&amp;</span><span class="n">qformat</span><span class="o">=</span><span class="n">png24</span><span class="o">&amp;...</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="docutils" id="index-44">
<dt>QITEM [name] (optional)</dt>
<dd><p class="first last">Имя атрибута в таблице слоя, которую опрашивают. Параметр необязательный и применим совместно с QSTRING для поиска по атрибутам.</p>
</dd>
</dl>
<dl class="docutils" id="index-45">
<dt>QLAYER [name]</dt>
<dd><p class="first last">Запрашиваемый слой. Имя слоя, по которому будет производится поиск, такое как в map файле.</p>
</dd>
</dl>
<dl class="docutils" id="index-46">
<dt>QSTRING [expression]</dt>
<dd><p class="first last">Поиск по атрибутам: Строка запроса передается в функцию запроса. Начиная с 5.0, qstring должен быть определен в параметре <cite>VALIDATION</cite> объекта <cite>LAYER</cite>, чтобы qstring запросы заработали (<em>qstring_validation_pattern</em> на уровне <cite>LAYER</cite> в разделе <cite>METADATA</cite> для MapServer старше версии 5.4).</p>
</dd>
</dl>
<dl class="docutils" id="index-47">
<dt>QUERYFILE [filename]</dt>
<dd><p class="first last">Применяется с режимом BROWSE или NQUERY. Эта опция идентифицирует файл запроса для загрузки перед любой другой обработкой. В режиме BROWSE это даст в результате карту в соответствии с запросом, вместо обычной карты. Такое действие полезно, если вы хотите подсветить объект в режиме сдвига и масштабирования. В режиме NQUERY будет получен доступ к любым шаблонам, используемым в нормальном отображении запроса, так что можно получить доступ и к картам по запросу, и к их атрибутам. Смотри параметр SAVEQUERY.</p>
</dd>
</dl>
<dl class="docutils" id="index-48">
<dt>REF</dt>
<dd><p class="first">Имя связанное с внутренним референсным изображение карты используемым для записи кликов пользователя. В основном передаются две переменные, ref.x и ref.y.</p>
<p class="last">Для приложений CGI это важная переменная при использовании референсных карт, смотри примеры по применению.</p>
</dd>
</dl>
<dl class="docutils" id="index-49">
<dt>REFXY [x] [y]</dt>
<dd><p class="first last">Координаты (в пикселях) однократного клика мышки в референсном изображении. Чаще всего используют в сочетании с Java фронендами к MapServer.</p>
</dd>
</dl>
<dl class="docutils" id="index-50">
<dt>SAVEQUERY</dt>
<dd><p class="first last">В любом из режимов поиска этот параметр говорит MapServer сохранять результаты запросов во временные файлы для применения в последующих операциях (смотри QUERYFILE). Полезен для создания перманентных запросов.</p>
</dd>
</dl>
<dl class="docutils" id="index-51">
<dt>SCALEDENOM [number]</dt>
<dd><p class="first last">Масштаб в котором будет новая карта. Используется вместе с mapxy. Масштаб задается как знаменатель дроби фактического масштаба, например, для карты масштаба 1:24000 задается 24000. Реализовано в MapServer 5.0, заменен устаревший параметр SCALE.</p>
</dd>
<dt>SCALE [number] - deprecated</dt>
<dd><p class="first last">Начиная с версии MapServer 5.0 рекомендуется использовать вместо этого параметр SCALEDENOM. Устаревший параметр SCALE - это масштаб, в котором создается новая карта. Используется вместе с mapxy. Масштаб задается как знаменатель дроби фактического масштаба, например, для карты в масштабе 1:24000 задается 24000.</p>
</dd>
</dl>
<dl class="docutils" id="index-52">
<dt>SEARCHMAP</dt>
<dd><p class="first last">Есть возможность двигать или приближать интерфейс используя карты запросов querymaps. В этом случае вам, скорее всего, потребуется информация о контенте новой карты вместо предыдущей карты, это типовой путь выполнения запросов. Если указать параметр searchmap новая карта будет создана с охватом, который будет использован в запрашиваемых слоях. Используется только в режиме NQUERY.</p>
</dd>
</dl>
<dl class="docutils" id="index-53">
<dt>SHAPEINDEX [index]</dt>
<dd><p class="first last">Используется в индексных запросах (в сочетании с INDEXQUERY).</p>
</dd>
</dl>
<dl class="docutils" id="index-54">
<dt>SLAYER [name]</dt>
<dd><p class="first last">Выбранный слой. Имя слоя для применения в режиме запроса для получения любых объектов (в т.ч. поэтапных). Выбранный слой должен быть типа полигон. Выбранные объект(ы) будут доступны для представления пользователю.</p>
</dd>
</dl>
<dl class="docutils" id="index-55">
<dt>TILEINDEX [index]</dt>
<dd><p class="first last">Используется в индексных запросах (в сочетании с INDEXQUERY), применяется со слоями tiled shapefile.</p>
</dd>
</dl>
<dl class="docutils" id="index-56">
<dt>ZOOM [number]</dt>
<dd><p class="first">Масштабирование применяемое при создании новой карты. Значения выше 0 приближают, равные 0 двигают, и значения ниже нуля уменьшают. Значение 2 означает &#8220;приблизить дважды&#8221;.</p>
<p class="last">ZOOM может быть использован в качестве ярлыка вместе с ZOOMDIR/ZOOMSIZE. Масштаб ограничен параметрами MINZOOM/MAXZOOM при компиляции MapServer (по-умолчанию -25/25).</p>
</dd>
</dl>
<dl class="docutils" id="index-57">
<dt>ZOOMDIR [1 | 0 | -1]</dt>
<dd><p class="first last">Направление для увеличения. Смотри выше.</p>
</dd>
</dl>
<dl class="docutils" id="index-58">
<dt>ZOOMSIZE [number]</dt>
<dd><p class="first">Абсолютная величина зума. Используется с ZOOMDIR.</p>
<p class="last">Параметр ZOOMDIR ограничен до величины MAXZOOM, скомпилированной в MapServer (25 по-умолчанию).</p>
</dd>
</dl>
</div>
<div class="section" id="changing-map-file-parameters-via-a-form-or-a-url">
<span id="cgi-mapfile-change-parameters"></span><span id="index-59"></span><h2>Изменение параметров map файла через форму или URL<a class="headerlink" href="#changing-map-file-parameters-via-a-form-or-a-url" title="Ссылка на этот заголовок">¶</a></h2>
<p>Beginning with version 3.3 it is possible to change virtually any map
file value from a form or a URL (see <a class="reference internal" href="runsub.html#runsub"><span class="std std-ref">Run-time Substitution</span></a>).  The syntax for
this is fairly straightforward, and depends on what version of
MapServer you are using.  One potentially very powerful use of this
ability to change mapfile parameters through a URL involves changing
class expressions on-the-fly.  <cite>VALIDATION</cite> is used to control
run-time substition.  Try it out.</p>
<div class="admonition warning">
<p class="first admonition-title">Предупреждение</p>
<p class="last">This functionality is only available via the <a class="reference internal" href="mapserv.html#mapserv"><span class="std std-ref">mapserv</span></a> CGI application.
Within MapScript this is easy to do by yourself since the developer has
complete control over how input is handled.</p>
</div>
<div class="section" id="using-mapserver-version-5">
<h3>Используется в версии MapServer &gt;= 5<a class="headerlink" href="#using-mapserver-version-5" title="Ссылка на этот заголовок">¶</a></h3>
<p>Previous versions of the MapServer CGI program allowed certain parameters
to be changed via a URL using a cumbersome syntax such as
map_layer_0_class_0_color=255+0+0 which changes the color in one classObj.
So, in the past you had to change parameters one-at-a-time. Now you can
pass chunks of mapfiles (with security restrictions) to the CGI interface.
The map_object notation is still necessary to identify which object you
want to modify but you can change multiple properties at one time. Note
that you can use either a &#8216;_&#8217; or a &#8216;.&#8217; to separate identifiers.</p>
<p>Пример 1, изменение шкалы:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="nb">map</span><span class="o">.</span><span class="n">scalebar</span><span class="o">=</span><span class="n">UNITS</span><span class="o">+</span><span class="n">MILES</span><span class="o">+</span><span class="n">COLOR</span><span class="o">+</span><span class="mi">121</span><span class="o">+</span><span class="mi">121</span><span class="o">+</span><span class="mi">121</span><span class="o">+</span><span class="n">SIZE</span><span class="o">+</span><span class="mi">300</span><span class="o">+</span><span class="mi">2</span><span class="o">&amp;...</span>
</pre></div>
</div>
<p>Пример 2, изменение стиля представления:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="nb">map</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="n">lakes</span><span class="p">]</span><span class="o">.</span><span class="n">class</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">style</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">SYMBOL</span><span class="o">+</span><span class="n">crosshatch</span><span class="o">+</span><span class="n">COLOR</span><span class="o">+</span><span class="mi">151</span><span class="o">+</span><span class="mi">51</span><span class="o">+</span><span class="mi">151</span><span class="o">+</span><span class="n">SIZE</span><span class="o">+</span><span class="mi">15</span><span class="o">&amp;...</span>
</pre></div>
</div>
<p>Пример 3, создание нового элемента:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">map_layer</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="n">FEATURE</span><span class="o">+</span><span class="n">POINTS</span><span class="o">+</span><span class="mi">500000</span><span class="o">+</span><span class="mi">1000000</span><span class="o">+</span><span class="n">END</span><span class="o">+</span><span class="n">TEXT</span><span class="o">+</span><span class="s1">&#39;A+test+point&#39;</span><span class="o">+</span><span class="n">END</span><span class="o">&amp;...</span>
</pre></div>
</div>
<p>Пример 4, изменение нескольких параметров веб-объекта:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">map_web</span><span class="o">=</span><span class="n">imagepath</span><span class="o">+/</span><span class="n">ms4w</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ms_tmp</span><span class="o">/+</span><span class="n">imageurl</span><span class="o">+/</span><span class="n">ms_tmp</span><span class="o">/</span>
</pre></div>
</div>
<p>Пример 5, изменение размера карты:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">map_size</span><span class="o">=</span><span class="mi">800</span><span class="o">+</span><span class="mi">400</span>
</pre></div>
</div>
<p>The variable identifies an object uniquely (by name or index in the
case of layerObj&#8217;s and classObj&#8217;s). The value is a snippet of a
mapfile. You cannot create new objects other than inline features at
this point.</p>
</div>
<div class="section" id="id1">
<h3>Используется в версии MapServer &lt; 5<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h3>
<p>For MapServer version &lt; 5, any value can be expressed using the
hierarchy used in a map file. A map contains a layer, which contains a
class, which contains a label, which has a color. This hierarchy is
expressed as a sequence of MapServer keywords separated by
underscores. For example to change the color of a layer called &#8220;lakes&#8221;
with only one class defined you would use a form variable named
&#8220;map_lakes_class_color&#8221; and could assign it a color like &#8220;0 0
255&#8221;. Layers can be referenced by index (i.e. map_layer_0...) or by
name as shown above. Layer classes are referenced by index value
(i.e. map_layer_0_class_2). If there is only 1 class for a layer then
the index should be omitted. These variables must always begin with
the sequence &#8220;map_&#8221;. Values assigned must conform to the syntax of a
map file.</p>
<p>It is also possible to define inline features using this
mechanism. This is the only case where you can add on to the map
file. You can edit/change layer parameters but you cannot create a new
layer. With inline features you have to first create a feature and
then build upon it, however, the layer the feature belongs to must
exist. Here&#8217;s a snippet from a GET request that adds a feature to a
webuser layer:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>...&amp;map_webuser_feature=new&amp;map_webuser_feature_points=12345.6789+12345.6789
      &amp;map_webuser_feature_text=My+House!&amp;...
</pre></div>
</div>
<p>The &#8220;map_webuser_feature=new&#8221; creates a new feature for the webuser
layer.  All subsequent calls to the feature object for that layer will
modify the new feature. You can repeat the process to create
additional features. This is really intended for very small (point,
rectangle) amounts of data.</p>
</div>
</div>
<div class="section" id="specifying-the-location-of-mapfiles-using-an-apache-variable">
<span id="index-60"></span><h2>Указание расположения map файлов используя переменные  Apache<a class="headerlink" href="#specifying-the-location-of-mapfiles-using-an-apache-variable" title="Ссылка на этот заголовок">¶</a></h2>
<p>Переменные Apache  могут быть использованы для указания расположения map файлов (вместо раскрытия полных путей во внешний мир).</p>
<ol class="arabic">
<li><p class="first">Задать переменную (в этом примере  <cite>MY_MAPFILE</cite>) в Apache в файле httpd.conf:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">SetEnv</span> <span class="n">MY_MAPFILE</span> <span class="s2">&quot;/opt/mapserver/map1/mymapfile.map&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Ссылка на переменную в mapserver CGI URL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost/cgi-bin/mapserv?map=MY_MAPFILE&amp;mode=...
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="rosa-applet-controls">
<span id="index-61"></span><h2>Параметры ROSA-Applet<a class="headerlink" href="#rosa-applet-controls" title="Ссылка на этот заголовок">¶</a></h2>
<p><em>замечание: Активная разработка и сопровождение ROSA Applet остановлена</em></p>
<p>The ROSA Applet parameters were added to the CGI MapServer in version 3.6.
This Java Applet provides a more intuitive user interface to MapServer. The
MapTools site provides detailed information on the ROSA Applet.</p>
<p>The parameters can also be used by other interfaces/tools, if set to the right
values. Please note that the two parameters have to be handed over to te CGI
application in the order identified below.</p>
<dl class="docutils">
<dt>INPUT_TYPE (auto_rect | auto_point)</dt>
<dd><p class="first last">Параметр INPUT_TYPE требуется для интерпретирования координат, переданных в mapserver, заданных как прямоугольник или как точка.</p>
</dd>
<dt>INPUT_COORD [minx,miny;maxx,maxy]</dt>
<dd><p class="first last">ROSA-Applet всегда заполняется парой координат. В случае точки  (input_type=auto_point) минимальная и максимальная координаты идентичны (MapServer использует минимальное значение).</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Искать" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MapServer параметры CGI</a><ul>
<li><a class="reference internal" href="#variables">Переменные</a></li>
<li><a class="reference internal" href="#changing-map-file-parameters-via-a-form-or-a-url">Изменение параметров map файла через форму или URL</a><ul>
<li><a class="reference internal" href="#using-mapserver-version-5">Используется в версии MapServer &gt;= 5</a></li>
<li><a class="reference internal" href="#id1">Используется в версии MapServer &lt; 5</a></li>
</ul>
</li>
<li><a class="reference internal" href="#specifying-the-location-of-mapfiles-using-an-apache-variable">Указание расположения map файлов используя переменные  Apache</a></li>
<li><a class="reference internal" href="#rosa-applet-controls">Параметры ROSA-Applet</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="runsub.html" title="Run-time Substitution"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context Files"
             >назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Документация MapServer 7.0.7</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >CGI</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2018, Open Source Geospatial Foundation.
      Обновлено: 2018-01-04.
      Создано с помощью <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.
    </div>
  </body>
</html>