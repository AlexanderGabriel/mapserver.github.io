<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; MapServer 7.0.0-beta1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0-beta1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0-beta1 documentation" href="../index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../it/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../es/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../zh_cn/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/zh_cn.png" alt="zh_cn" title="zh_cn" border="0" /></a>
        
        
          <a href="../de/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../fr/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../sq/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/howto/mapserver_openbsd_3.7_jan_2005.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>installing mapserver and other geographic information system tools (gis) on openbsd</p>
<p>I started this process at 2:00 pm jan 11 2005</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>other citations of</dt>
<dd><p class="first last"><a class="reference external" href="http://www.arch.cam.ac.uk/~dir21/gis/">http://www.arch.cam.ac.uk/~dir21/gis/</a></p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>docs</dt>
<dd><ul class="first last">
<li><p class="first">the mapserver site itself does not document how to install itself amazingly</p>
</li>
<li><dl class="first docutils">
<dt>looked for citations re installation</dt>
<dd><ul class="first last simple">
<li>the below url was elsewhere but had a redirect to a dead site
so i used wget to fetch the url, removed the redirect and posted it here:
<a class="reference external" href="http://p2pmap.org/HowToCompileMapserver.htm">http://p2pmap.org/HowToCompileMapserver.htm</a></li>
<li>here is one for the mac but is still useful; although not citing gdal?
<a class="reference external" href="http://home.nc.rr.com/wwheaton">http://home.nc.rr.com/wwheaton</a> has a mac</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>openbsd</dt>
<dd><ul class="first last simple">
<li>there is a discontinuity between openbsd 3.6 and 3.7 that makes upgrades hard
so i figured it would be best to goto a straight pre-rel-3.7 for everything
hopefully it can be updated to the real 3.7 when it comes out</li>
<li>also in general it is essentially impossible to upgrade ports and packages
packages can not be deleted without deleting dependencies
its best to restart from scratch</li>
<li>fetched snapshots of openbsd cdi386.iso dated of jan 11 2005</li>
<li>did install on a brand new box - 1000mb drive pentium cpu, 512mb ram</li>
<li>note that they recommend fairly small partition sizes - i recommend the opposite</li>
<li>installed xwindows to prime the system</li>
<li>installed mozilla-firefox because last time i made mistake of installing from
non ports packages (such as below) first and completely confused all of the
ports install - particularily moz which i was never able to re-install.  the
problem is that new include files from non ports managed packages pollute the
include path... so a best practice is fully prep your system with all stock
pieces that you can conceivably think of installing before installing any
non ports managed pieces...</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>libjpeg 6b</dt>
<dd><ul class="first last simple">
<li>is already installed so i didn&#8217;t do it</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>proj-4.4.9</dt>
<dd><ul class="first last simple">
<li>fetched via ftp</li>
<li>and built it without any special configuration...</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>libgeotiff</dt>
<dd><ul class="first last simple">
<li>skipped it</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>freetype</dt>
<dd><ul class="first last simple">
<li>so openbsd like /usr/ports/print/freetype version 1.3.1</li>
<li>and the docs recommend 2.1.3</li>
<li>and the latest version is 2.1.9</li>
<li>regarding freetype and php i see something:
<a class="reference external" href="http://groups-beta.google.com/group/mailing.netbsd.help/msg/921216c154abb70d?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;safe=off">http://groups-beta.google.com/group/mailing.netbsd.help/msg/921216c154abb70d?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;safe=off</a>
some people compile gd first before freetype?</li>
<li>should i install 1.3.1 first and then the other one?</li>
<li>can i statically link to it?</li>
<li>NOTE that it is apparently already present:
<a class="reference external" href="http://www.monkey.org/openbsd/archive/ports/0302/msg00290.html">http://www.monkey.org/openbsd/archive/ports/0302/msg00290.html</a></li>
<li>done (well revisited later on to do a manual install)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>gd</dt>
<dd><ul class="first last">
<li><p class="first"><a class="reference external" href="http://www.boutell.com/gd/">http://www.boutell.com/gd/</a></p>
</li>
<li><p class="first">apparently we really want gd to be able to manufacture pretty jpegs with text on them etc</p>
</li>
<li><dl class="first docutils">
<dt>options include</dt>
<dd><p class="first last">&#8211;with-libiconv-prefix=dirprefix ???  (system has libiconv-1.9.1 - is that good enough??? )
&#8211;with-png=dir
&#8211;with-freetype=dir
&#8211;with-fontconfig=dir ???
&#8211;with-jpeg=dir
&#8211;with-xpm=dir</p>
</dd>
</dl>
</li>
<li><p class="first">a totally stock install worked flawlessly - just ./configure...</p>
</li>
<li><dl class="first docutils">
<dt>oops - not true - cannot find png.h</dt>
<dd><ul class="first last">
<li><p class="first">why is it trying /usr/local/includes/libpng/libpng???</p>
</li>
<li><p class="first">tried set CPPFLAGS=-I/usr/local/includes/libpng - did not work</p>
</li>
<li><dl class="first docutils">
<dt>oh well, gave up, just did</dt>
<dd><p class="first last">mkdir /usr/local/includes/libpng/libpng
cp /usr/local/includes/libpng/* /usr/local/includes/libpng/libpng</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">and it builds</p>
</li>
<li><p class="first">done</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>gd patch</dt>
<dd><ul class="first last simple">
<li>i skipped this because it looks like the lzw patent expired and the
support that was hacked into the patch is now not needed i believe</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>gd for perl</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://stein.cshl.org/WWW/software/GD/GD.pm.tar.gz">http://stein.cshl.org/WWW/software/GD/GD.pm.tar.gz</a></li>
<li>skipped for now</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Now it is 11:00 PM Jan 2005</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>java support</dt>
<dd><ul class="first last simple">
<li>i want postgres java for geoserver</li>
<li>cd /usr/local/devel/jdk/1.4</li>
<li>make will list things needed</li>
<li>fetch lots of stupid pieces from sun from behind legal veils</li>
<li>fetch bits from eyesbeyond</li>
<li>now make</li>
<li>took about 4 hours, finally built and &#8216;hello world&#8217; works
(the thing to do now is try eclipse, geoserver and my own stuff)
(and to see if the java imageio stuff works yet or can be ported)</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>gnu m4</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://ftp.gnu.org/gnu/m4/">http://ftp.gnu.org/gnu/m4/</a></li>
<li>bison wanted this so i installed it</li>
<li>backed up orig: first i did &#8216;which m4&#8217; and backed it up</li>
<li>backed up orig: also i backed up the lib in</li>
<li>moved away orig to &#8216;/usr/bin/m4_old&#8217; -&gt; leaving bison to find new in /usr/local/bin</li>
<li>(turned out i had to move the orig back to build python)</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>bison</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://ftp.gnu.org/gnu/bison/bison-1.875.tar.gz">http://ftp.gnu.org/gnu/bison/bison-1.875.tar.gz</a></li>
<li>backed up orig:  found bison using &#8216;which bison&#8217; and backed it up</li>
<li>backed up orig:  moved liby.a also</li>
<li>postgresqy complained that it wanted this so i installed it</li>
<li>but this thing wants GNU M4 1.4</li>
<li>gave it that and it builds</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>libcurl</dt>
<dd><ul class="first last simple">
<li>libcurl is apparently needed for wms/wfs support</li>
<li>hrm, there is no such thing as &#8216;libcurl&#8217; - it appears to be in &#8216;curl&#8217;</li>
<li>i&#8217;m building from /usr/ports/net/curl</li>
<li>the original site for ftp is down but luckily mirrors seem to work</li>
<li>libcurl couldn&#8217;t find gzip for some reason...?</li>
<li>anyway, seems to install</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>python</dt>
<dd><ul class="first last simple">
<li>i noticed gdal would like python so i did a /usr/ports/lang/python make all</li>
<li>i recall that python was useful for some reason or other last time i did all this</li>
<li>because i am lazy i am doing the java and python builds simultaneously</li>
<li>also since these seem to be multi-hour things i am doing a lot of the below also at the same time</li>
<li>heh python failed because it couldn&#8217;t find the m4 i moved away - i moved it back temporarily</li>
<li>had to pkg_delete the python stuff installed already ( complains re cannot symbolic link if symbolic link exists )</li>
<li>then run make build again</li>
<li>arg it still failed, did a make clean and tried again... works.</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>geos</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://geos.refractions.net/geos-2.1.1.tar.bz2">http://geos.refractions.net/geos-2.1.1.tar.bz2</a></li>
<li>./configure</li>
<li>make</li>
<li>make install</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>swig</dt>
<dd><ul class="first last simple">
<li>i see swig being mentioned so took at shot at it from ports</li>
<li>failed due to python not being there (it was still installing in another window)</li>
<li>once python showed up i tried it again and it installed fine... although pulled in ruby ug.</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>postgresql</dt>
<dd><ul class="first">
<li><p class="first"><a class="reference external" href="http://www.postgresql.org">http://www.postgresql.org</a></p>
</li>
<li><p class="first">first off it wants newer bison - so did that above</p>
</li>
<li><p class="first">looks like 7.4.6 is latest? seems to be prominent in the ftp folder</p>
</li>
<li><p class="first">also grabbed <a class="reference external" href="http://postgis.refractions.net/postgis-0.9.1.tar.gz">http://postgis.refractions.net/postgis-0.9.1.tar.gz</a></p>
</li>
<li><p class="first">although other docs suggest otherwise you have to build postgres first (before the postgis part)</p>
</li>
<li><p class="first">seemed to want bison 1.875 as mentioned</p>
</li>
<li><p class="first">./configure</p>
</li>
<li><p class="first">make</p>
</li>
<li><p class="first">(later when java is done i will come back and remake with java support)</p>
</li>
<li><dl class="first docutils">
<dt>instructions in other doc are ok:</dt>
<dd><p class="first last">cd postgresql-7.3.4
./configure
gmake
su
gmake install
adduser postgres
mkdir /$your database location
chown postgres /$your database location
su - postgres
/usr/local/pgsql/bin/initdb -D /$your database location
/usr/local/pgsql/bin/postmaster -D /$your database location &gt;logfile 2&gt;&amp;1 &amp;
logout from superuser
login as postgres
/usr/local/pgsql/bin/createdb test
/usr/local/pgsql/bin/psql test</p>
</dd>
</dl>
</li>
<li><p class="first">non critical stuff is good too</p>
</li>
</ul>
<dl class="docutils">
<dt>( i skipped for now )</dt>
<dd><p class="first last">Download and install Tools(admin and ODBC) for window.
Change directory to /usr/local/pgsql/data.
Allow other host connect to the server by adding more host inside pg_hba.conf file.
Modify connection parameter inside postgresql.conf as follow:
change #tcpip_socket = false &#8211;&gt; tcpip_socket = true
change #post = &#8211;&gt; port=5432</p>
</dd>
</dl>
<ul class="simple">
<li>revisit for java later</li>
</ul>
<ul class="last simple">
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>postgis</dt>
<dd><ul class="first last">
<li><p class="first">had to get postgis off net</p>
</li>
<li><p class="first">cd contrib</p>
</li>
<li><p class="first">tar zxvf postgis.tar.gz</p>
</li>
<li><p class="first">cd postgis</p>
</li>
<li><p class="first">make failed</p>
</li>
<li><p class="first">gmake failed - needs &#8216;geos&#8217;??? oops, forgot to do geos/ make &#8216;install&#8217;</p>
</li>
<li><p class="first">gmake failed - can&#8217;t find &#8216;projects.h&#8217; - oh forgot to do proj4/ make &#8216;install&#8217;</p>
</li>
<li><p class="first">ok builds</p>
</li>
<li><dl class="first docutils">
<dt>so overall procedure is fine:</dt>
<dd><p class="first last">cd contrib
gunzip postgis-0.7.1.tar.gz
tar xvf postgis-0.7.1.tar
cd postgis-0.7.1
make
make install
(forgot to do the make install first time - leading to mayhem)
(i switched to postgres user here)
createlang plpgsql test
psql -d test -f postgis.sql
psql -d test -f spatial_ref_sys.sql</p>
</dd>
</dl>
</li>
<li><p class="first">done</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>grass?</dt>
<dd><ul class="first last simple">
<li>later</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Now it is 2:00 AM and everything except java, gdal and mapserver are present.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>gdal</dt>
<dd><ul class="first last">
<li><p class="first"><a class="reference external" href="http://www.remotesensing.org/gdal">http://www.remotesensing.org/gdal</a></p>
</li>
<li><p class="first"><a class="reference external" href="http://www.remotesensing.org/gdal/gdal_building.html">http://www.remotesensing.org/gdal/gdal_building.html</a></p>
</li>
<li><p class="first"><a class="reference external" href="http://www.arch.cam.ac.uk/~dir21/gis/gdal.html">http://www.arch.cam.ac.uk/~dir21/gis/gdal.html</a></p>
</li>
<li><dl class="first docutils">
<dt>one recommendation is:</dt>
<dd><p class="first">$ tar -xzvf gdal-1.2.0.tar.gz
$ cd gdal-1.2.0
$ ./configure &#8211;with-netcdf=/usr/local/include &#8211;with-gif=no </p>
<blockquote class="last">
<div><p>&#8211;with-ogdi=/usr/local/include &#8211;without-bsb &#8211;with-cfitsio=no &#8211;with-local=/usr/local</p>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>another one is:</dt>
<dd><p class="first last">cd gdal-1.1.9
./configure &#8211;with-libtiff=/usr/local/lib/ &#8211;with-geotiff=/usr/local/lib/ &#8211;with-jpeg=/usr/local/lib/ &#8211;with-gif=/usr/local/lib/ &#8211;with-pg=/usr/local/pgsql/bin/pg_config
make
make install</p>
</dd>
</dl>
</li>
<li><p class="first">i tried just ./configure and everything i need seems to be discovered by itself
it uses internal versions of libpng, libtiff, libgeotiff, libjpeg, libgif
so i figure its probably ok</p>
</li>
<li><p class="first">1.2.5 won&#8217;t configure due to some kind of weird configure glitch</p>
</li>
<li><p class="first">1.2.4 doesn&#8217;t configure for same reason</p>
</li>
<li><p class="first">1.1.9 does seem to configure and build fine
oops except for a small endian bug in a header that i have seen before</p>
</li>
<li><p class="first">1.2.3 configures and mostly builds except for endian bug</p>
</li>
<li><dl class="first docutils">
<dt>the fix is simple</dt>
<dd><p class="first last">vi frmts/fit/gstEndian.h
#undef swap64
#undef swap32
#undef swap16</p>
</dd>
</dl>
<p>(this is what this guy got hung up on : <a class="reference external" href="http://www.arch.cam.ac.uk/~dir21/gis/gdal.html">http://www.arch.cam.ac.uk/~dir21/gis/gdal.html</a> )</p>
</li>
<li><p class="first">gmake install is fine too</p>
</li>
<li><p class="first">done</p>
</li>
<li><dl class="first docutils">
<dt>revisiting to get latest</dt>
<dd><ul class="first">
<li><p class="first">tried to do geos with gmake instead of make... on theory that geos_config differs?</p>
</li>
<li><p class="first">turned of mysql to get around configure bad substitution error (fixes this)</p>
</li>
<li><p class="first">supplied geos path <em>dammit</em> still does not help configure bad substitution</p>
</li>
<li><p class="first">supplied version # to try get around another configure bad substitution... nope.
it looks like it is reading these bad values from &#8216;confdefs.h&#8217; using a macro? ACEOFF?
tries to do</p>
<blockquote>
<div><p>if test &#8220;${VERSION:0:1}&#8221;
i notice it does
VERSION=`$GEOS_CONFIG &#8211;version`
hrm, that does work if i run it from the shell
its like gmake cannot find /usr/local/bin/geos-config
what if i hardcode it?  nope.
well, what if remove the entire check?
ok gets past that one</p>
</div></blockquote>
</li>
</ul>
<p class="last">ah, and it seems to configure
building crashes though with tiff problems... switching to internal tiff
(i&#8217;ll bet these internal / external differences cause problems with mapserver?)
(arg still problems... hrm, switching to internal jpeg also since tiff refers to it)
ok, appears to be fucking building
no uninstaller
installed new over old
back to mapserver</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>w3c-libwww</dt>
<dd><ul class="first last simple">
<li>optional but what the hell</li>
<li><a class="reference external" href="http://www.w3.org/Library/Distribution/w3c-libwww-5.4.0.tgz">http://www.w3.org/Library/Distribution/w3c-libwww-5.4.0.tgz</a></li>
<li>./configure</li>
<li>make
oops, gmake only...</li>
<li>gmake install is all fine</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Now it is 2:30 AM and we are onto the final item - mapserver?  Well not quite.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>apache</dt>
<dd><ul class="first simple">
<li><a class="reference external" href="http://ftp.wayne.edu/apache/httpd/apache_1.3.33.tar.gz">http://ftp.wayne.edu/apache/httpd/apache_1.3.33.tar.gz</a></li>
<li>(we don&#8217;t want to use the openbsd version that is jailed)</li>
</ul>
<p class="last">./configure &#8211;prefix=/var/www &#8211;enable-module=rewrite &#8211;enable-shared=rewrite &#8211;enable-shared=so
+ modify /etc to point to new one
+ renamed old one in /usr/bin/httpd to httpd_unused
+ OH, php wants &#8211;enable-shared=so
+ also it wants to see apache, ok, do ln -s for old apache paths to new ( both /usr/sbin/httpd and /var/www )
+ redid for .so&#8217;s
+ done</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>php</dt>
<dd><ul class="first last simple">
<li>/usr/ports/www/php4</li>
<li>php4-gd may fail because of no freetype? see <a class="reference external" href="http://groups-beta.google.com/group/mailing.netbsd.help/msg/921216c154abb70d?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;safe=off">http://groups-beta.google.com/group/mailing.netbsd.help/msg/921216c154abb70d?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF-8&amp;safe=off</a></li>
<li>ming wants php</li>
<li>so we give it php4 because php5 is the weird one with object support</li>
<li>failed, wanted apache, fixed</li>
<li>wierd; php sucks in mysql... what a terrible set of dependencies for a scripting language
(in future probably best to build all this before any of the custom stuff)</li>
<li>arg &#8216;can&#8217;t install php extensions because it is already installed&#8217;</li>
<li>make clean</li>
<li>pkg_delete php extensions</li>
<li>make install</li>
<li>still fails for similar reason (php4-core already installed)</li>
<li>make? (by itself?)</li>
<li>well by deleting php4 and extensions and doing make install a couple of times it does install</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>bailed here around 3:00</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>ming</dt>
<dd><ul class="first last simple">
<li>well decided to throw ming in too</li>
<li>after php is in</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>starting up again around 08:00</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>freetype (from net not ports)</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://umn.dl.sourceforge.net/sourceforge/freetype/freetype-2.1.9.tar.gz">http://umn.dl.sourceforge.net/sourceforge/freetype/freetype-2.1.9.tar.gz</a></li>
<li>mapserver says it cannot find freetype... among other things
(mostly it is complaining on behalf of &#8216;gd&#8217; which actually is ok with things)
(maybe this isn&#8217;t needed...  could probably convince it to find it... and it should not really care itself)
(anyway, will do it as waving dead chicken kind of thing)</li>
<li>well maybe if i give a real freetype install off of net instead of ports?</li>
<li>weird error &#8216;gmake is required at version x&#8217; hrm.</li>
<li>setenv GMAKE gmake</li>
<li>./configure</li>
<li>gmake</li>
<li>does not indicate which version of freetype2 is built into openbsd...</li>
<li>well, built and installed this one; hopefully can undo if conflicts</li>
<li>(went back and rebuilt &#8216;gd&#8217; with this version of freetype now.</li>
<li>(went back and rebuilt &#8216;gdal&#8217; also with this version)</li>
<li>done</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>mapserver</dt>
<dd><ul class="first last">
<li><p class="first">at head revision mapserver_dev</p>
</li>
<li><p class="first">complains it cannot find freetype or other related things (on behalf of gd)
i think it is just being stupid but lets give it a vanilla freetype install</p>
</li>
<li><p class="first">still complains about png, jpeg, xpmfreexpmimage, libiconv... idiotic.
ok, lets first try to make mapserver realize where they really are</p>
</li>
<li><p class="first">persistently cannot find xpm nor iconv</p>
</li>
<li><p class="first">ok, xpm is found by &#8211;use-xpm=/usr/X11R6/lib</p>
</li>
<li><p class="first">ok, libiconv was specified wrong - it is not &#8216;&#8211;use-iconv&#8217; like the rest but &#8216;&#8211;use-libiconv&#8217;</p>
</li>
<li><p class="first">and couldn&#8217;t find proj - path should not include /lib - corrected</p>
</li>
<li><p class="first">and could not find ogr - the incantation suggests /usr/local/bin/gdal_config... oh, my typo</p>
</li>
<li><p class="first">oh weird... it found ogr this time although i changed nothing... nice.</p>
</li>
<li><dl class="first docutils">
<dt>dammit a compile time warning:</dt>
<dd><p class="first last">warning libfreetype.so.13.0 needed by gd-2.0.33
libgd.so.2.0 may conflict with libfreetype.so.9.7
(at least i found out which version of libfreetype2 comes with openbsd)
(i guess i&#8217;d like to remove this from ldconfig? or hide it for now?)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>and a compile error</dt>
<dd><p class="first last">libmap.a mapogr.o msOGRGetvalues undefined reference to __gxx_personality_sj0
<a class="reference external" href="http://www.cs.vassar.edu/~priestdo/emacspeak/list.archive.2003/msg00277.html">http://www.cs.vassar.edu/~priestdo/emacspeak/list.archive.2003/msg00277.html</a>
holy crap - if i add this to the compile sequence it does work...  (-lstdc++)</p>
</dd>
</dl>
</li>
<li><p class="first">&#8216;undefined reference to &#8216;typeinfo&#8217; for geos::GEOSException ... sigh.</p>
</li>
<li><p class="first">scanning the ./configure &#8211;help i notice it wants &#8211;enable-runpath - so i did that too.</p>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="http://geos.refractions.net/pipermail/geos-devel/2003-November/000773.html">http://geos.refractions.net/pipermail/geos-devel/2003-November/000773.html</a></dt>
<dd><p class="first last">setenv LDFLAGS -s
setenv CPPFLAGS -I/usr/local/include
???</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>now i am getting</dt>
<dd><p class="first last">undefined reference to geos::WKTReader::~WKTReader for example (lots of)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>ok, maybe since i wasn&#8217;t able to use an at head version of gdal i have to use older geos as well?</dt>
<dd><p class="first last">maybe i should try harder to get the latest gdal building?
no effect... sigh.
oh i see, i need to do &#8211;use-geos=/usr/local/bin/geos-config</p>
</dd>
</dl>
</li>
<li><p class="first">ok it builds</p>
</li>
<li><p class="first">i installed it</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Still for me to do for my own use:</p>
<blockquote>
<div><ul class="simple">
<li>mapscript</li>
<li>geoserver + update postgresql to include jdbc</li>
<li>data and samples</li>
</ul>
</div></blockquote>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Regents of the University of Minnesota.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>