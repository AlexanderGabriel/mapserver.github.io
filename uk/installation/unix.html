<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Compiling on Unix &mdash; MapServer 7.0.0-beta1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0-beta1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="Про ці документи" href="../about.html" />
    <link rel="copyright" title="Авторські права" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0-beta1 documentation" href="../index.html" />
    <link rel="up" title="Installation" href="index.html" />
    <link rel="next" title="Compiling on Win32" href="win32.html" />
    <link rel="prev" title="Installation" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../installation/unix.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/installation/unix.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/installation/unix.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/installation/unix.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/installation/unix.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../fr/installation/unix.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
          
        
        
          
            <a href="../../id/installation/unix.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/installation/unix.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/installation/unix.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/installation/unix.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/installation/unix.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/installation/unix.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/installation/unix.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/installation/unix.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        <img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" width="18px" height="13px"/>

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навігація</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Загальний індекс"
             accesskey="I">індекс</a></li>
        <li class="right" >
          <a href="win32.html" title="Compiling on Win32"
             accesskey="N">наступний</a> |</li>
        <li class="right" >
          <a href="index.html" title="Installation"
             accesskey="P">попередній</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.0.0-beta1 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Installation</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="compiling-on-unix">
<span id="unix"></span><span id="index-0"></span><h1><a class="toc-backref" href="#table-of-contents">Compiling on Unix</a><a class="headerlink" href="#compiling-on-unix" title="Постійне посилання на цей заголовок">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">J.F. Doyon</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jdoyon at nrcan.gc.ca</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Howard Butler</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">hobu.inc at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Thomas Bonfort</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">thomas.bonfort at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2014/03</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#compiling-on-unix" id="id2">Compiling on Unix</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#obtaining-the-necessary-software" id="id4">Obtaining the necessary software</a></li>
<li><a class="reference internal" href="#libgd" id="id5">libgd</a></li>
<li><a class="reference internal" href="#anti-grain-geometry-support" id="id6">Anti-Grain Geometry Support</a></li>
<li><a class="reference internal" href="#ogc-support" id="id7">OGC Support</a></li>
<li><a class="reference internal" href="#spatial-warehousing" id="id8">Spatial Warehousing</a></li>
<li><a class="reference internal" href="#compiling" id="id9">Compiling</a></li>
<li><a class="reference internal" href="#installation" id="id10">Installation</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#table-of-contents">Introduction</a><a class="headerlink" href="#introduction" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>The University of Minnesota&#8217;s MapServer is an open-source and freely
available map rendering engine for the web. Due to its open-source nature,
it can be compiled on a wide variety of platforms and operating systems.
We will focus on how to obtain, compile and install MapServer on UNIX-like
platforms.</p>
<p>Detailed configuration options are maintained in the <a class="reference external" href="https://github.com/mapserver/mapserver/blob/master/INSTALL.CMAKE">INSTALL.CMAKE</a>
file packaged at the root of the source directory:</p>
<p>You might also check the <a class="reference external" href="http://trac.osgeo.org/mapserver/wiki/MapServerCompilation">MapServerCompilation</a> wiki page for additional information.</p>
</div>
<div class="section" id="obtaining-the-necessary-software">
<h2><a class="toc-backref" href="#table-of-contents">Obtaining the necessary software</a><a class="headerlink" href="#obtaining-the-necessary-software" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>You can obtain the MapServer source code as well as the demo package from the
<a class="reference internal" href="../download.html#download"><span>Download</span></a> section.</p>
<p>You can also get the latest MapServer source code from <a class="reference internal" href="../development/git.html#git"><span>GitHub</span></a>.</p>
<div class="section" id="required-external-libraries">
<h3>Required External Libraries<a class="headerlink" href="#required-external-libraries" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul>
<li><p class="first"><a class="reference external" href="http://www.libpng.org/pub/png/libpng.html">libpng</a>: libpng should be on
your system by default.  1.2.12 is the current release with security patches, although
versions all the way back to 1.2.7 should work.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.freetype.org/">freetype</a>: Version 2.x or above is required.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.ijg.org/">libjpeg</a>: libjpeg allows MapServer to render
images in JPEG format.  A sufficient version should be installed by
default on your system.  Version 6b is the current version and dates back to
1998.</p>
<div class="admonition warning">
<p class="first admonition-title">Попередження</p>
<p class="last">Direct JPEG support is deprecated in MapServer 5.8+, and you should
now depend on GDAL for raster read support in MapServer. JPEG support
is however still required for producing (i.e. writing) images.</p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://www.gzip.org/zlib">zlib</a>: Zlib should be on your system by
default.  1.2.1 is the current release with security patches. Though not
used directly by mapserver, it&#8217;s a mandatory dependency of libpng.</p>
</li>
</ul>
</div>
<div class="section" id="highly-recommended-libraries">
<h3>Highly Recommended Libraries<a class="headerlink" href="#highly-recommended-libraries" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul>
<li><p class="first"><a class="reference external" href="http://trac.osgeo.org/proj/">libproj</a>: libproj provides projection support for MapServer.
Version 4.4.6 or greater is required.</p>
</li>
<li><p class="first"><a class="reference external" href="http://curl.haxx.se/libcurl/">libcurl</a>: libcurl is the foundation of OGC (WFS/WMS/WCS) client
and server support.  Version 7.10 or greater is required. Installing
libcurl:</p>
<div class="highlight-python"><div class="highlight"><pre>apt-get install -y libcurl4-gnutls-dev
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://www.gdal.org/ogr/">OGR</a>: OGR provides access to at least 18 different vector formats.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.gdal.org/">GDAL</a>: GDAL provides access to at least
42 different raster formats.</p>
</li>
</ul>
</div>
<div class="section" id="optional-external-libraries">
<h3>Optional External Libraries<a class="headerlink" href="#optional-external-libraries" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul>
<li><p class="first"><a class="reference external" href="http://www.libtiff.org/">libtiff</a>: libtiff provides TIFF (Tagged Image File Format) reading
support to MapServer.</p>
<div class="admonition warning">
<p class="first admonition-title">Попередження</p>
<p class="last">Direct libtiff support is deprecated in MapServer 5.8+, and you should
now depend on GDAL for raster read support in MapServer.</p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://trac.osgeo.org/geotiff/">libgeotiff</a>:
libgeotiff provides support to read GeoTIFF files (TIFF files with
geographic referencing).</p>
<div class="admonition warning">
<p class="first admonition-title">Попередження</p>
<p class="last">Direct GeoTIFF support is deprecated in MapServer 5.8+, and you should
now depend on GDAL for raster read support in MapServer.</p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://trac.osgeo.org/geos/">GEOS</a>: GEOS allows MapServer to do
spatial predicate and algebra operations (within, touches, etc &amp; union,
difference, intersection).</p>
<div class="versionadded">
<p><span class="versionmodified">Нове в версії 4.10.</span></p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://xmlsoft.org">libxml</a>: libxml is required to use <a class="reference internal" href="../ogc/sos_server.html#sos-server"><span>OGC
SOS</span></a> support in MapServer</p>
<div class="versionadded">
<p><span class="versionmodified">Нове в версії 4.10.</span></p>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://www.esri.com/software/arcgis/arcsde/index.html">SDE Client Library</a>: The client libraries for your platform should
be part of the ArcSDE media kit.  They are <em>not</em> publicly available
for download.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.oracle.com/technology/products/spatial/index.html">Oracle Spatial OCI</a>: The client libraries for your platform are
available for download from Oracle&#8217;s website.  Ideally, your client
library matches the database you are querying from, but this is not
a hard requirement.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.postgresql.org/">libpq</a>: libpq is required to support the use of PostGIS geometries
within the PostgreSQL database.  Ideally, your client library
matches the database you are querying from.</p>
</li>
<li><p class="first"><a href="#id11"><span class="problematic" id="id12">`libgif-dev`_</span></a>: giflib is
is used for reading GIF files used as PIXMAP symbols.</p>
</li>
<li><p class="first"><a class="reference external" href="http://www.fastcgi.com">FastCGI</a>: FastCGI is a popular protocol for interfacing MapServer
with various web servers.  You will need to install the development
package.
More details on how to use this feature in MapServer is here <a class="reference internal" href="../optimization/fastcgi.html#fastcgi"><span>FastCGI</span></a>.
On Ubuntu, that would be:</p>
<div class="highlight-python"><div class="highlight"><pre>$ apt-get -y install libfcgi-dev
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference external" href="http://cairographics.org/">cairo (svg, pdf) support</a>: This library is required to produce PDF
and SVG outputs.  If you&#8217;re on an ubuntu system, it can be installed
with &#8220;apt-get install -y libcairo2-dev&#8221;</p>
</li>
<li><p class="first"><a class="reference external" href="http://mapserver.org/output/kml_output.html">kml support</a>: This renderer is has no external dependency.</p>
</li>
<li><p class="first"><a href="#id13"><span class="problematic" id="id14">`GD`_</span></a>: libgd is used by MapServer for
rendering images.  Version 2.0.28 or greater required. Version 2.0.29 or
later is required to use curved (following) labels, and version 2.0.34
is required for antialiasing (1 pixel wide lines/outlines).</p>
</li>
</ul>
</div>
<div class="section" id="optional-features">
<h3>Optional Features<a class="headerlink" href="#optional-features" title="Постійне посилання на цей заголовок">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://mapserver.org/development/rfc/ms-rfc-73.html">cairo svg parser support</a>: The WITH_SVGCAIRO option is part of a
proposal to improve SVG support.  Using this feature requires
installing the libsvg-cairo library available here:
<a class="reference external" href="http://cairographics.org/snapshots/">http://cairographics.org/snapshots/</a> .  You will need to compile and
install cairo, libsvg, and libsvg-cairo.</li>
<li>SVG support can be enabled either through the unmaintained libsvg /
libsvg-cairo combo, or through librsvg at the cost of more dependencies. Use
librsvg if your distro provides a package for it, or fall back to libsvgcairo
if the cost of compiling the librsvg dependencies is too important.</li>
</ul>
</div>
</div>
<div class="section" id="libgd">
<h2><a class="toc-backref" href="#table-of-contents">libgd</a><a class="headerlink" href="#libgd" title="Постійне посилання на цей заголовок">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Попередження</p>
<p class="last">It is not recommended to enable the GD renderer unless you know what you are
doing. It suffers from major rendering limitations, and will be completely
removed in version 7.0</p>
</div>
<p>There are a number of issues that you should be aware of when using GD in
combination with MapServer.</p>
<div class="section" id="minimum-libgd-versions">
<h3>Minimum libgd versions<a class="headerlink" href="#minimum-libgd-versions" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>MapServer aggressively takes advantage of new features and bug fixes in the
latest versions of libgd.  The minimum required version to run MapServer is
2.0.29.  Upgrading to at least 2.0.34 is advised as it includes an important
bug fix for antialiased lines.  Configure should detect which version of
libgd you have installed, but you  can quickly check yourself by issuing the
following command:</p>
<div class="highlight-python"><div class="highlight"><pre>$ gdlib-config --version
</pre></div>
</div>
</div>
<div class="section" id="libiconv">
<h3>libiconv<a class="headerlink" href="#libiconv" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>If you intend to use international character sets, your version of libgd
<em>must</em> be compiled against the GNU iconv libraries.  If you are using a
pre-packaged version, it is very likely that this is the case.  To check
for yourself, issue the following command and look for &#8216;-liconv&#8217; in the output:</p>
<div class="highlight-python"><div class="highlight"><pre>$ gdlib-config --libs
</pre></div>
</div>
</div>
<div class="section" id="pre-packaged-system-libraries">
<h3>Pre-packaged/system libraries<a class="headerlink" href="#pre-packaged-system-libraries" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>If you intend to use your system&#8217;s libgd, ensure that you have the development
package also installed so MapServer can find and use the appropriate headers.</p>
</div>
<div class="section" id="macosx">
<h3>MacOSX<a class="headerlink" href="#macosx" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>A useful FAQ on for libgd on OSX is available at <a class="reference external" href="http://www.libgd.org/DOC_INSTALL_OSX">GD on OSX</a>.</p>
</div>
<div class="section" id="freetype-support">
<h3>FreeType support<a class="headerlink" href="#freetype-support" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>The GD you compile MapServer against MUST be compiled against the FreeType
library in order to use TrueType fonts. MapServer no longer uses it&#8217;s own
interface to FreeType, using it through GD instead.</p>
<p>When you run your &#8220;configure&#8221; script, look for the following output:</p>
<div class="highlight-python"><div class="highlight"><pre>using GD ( -DUSE_GD_GIF -DUSE_GD_PNG -DUSE_GD_JPEG
           -DUSE_GD_WBMP -DUSE_GD_TTF -DGD_HAS_GDIMAGEGIFPTR)
           from system libs.
</pre></div>
</div>
<p>If your GD is built against FreeType, you will see either
&#8220;-DUSE_GD_TTF&#8221; (Or &#8220;-DUSE_GD_FT&#8221; for Freetype 2.x) part. If it&#8217;s missing,
you will need to recompile your GD to make sure you include FreeType
support. See the GD documentation for more information.</p>
<p>Also note that the configure script looks for the FreeType library
separately as well, generating output looking somewhat like this:</p>
<div class="highlight-python"><div class="highlight"><pre>checking where FreeType is installed...
checking for FT_Init_FreeType in -lfreetype... yes
using libfreetype -lfreetype from system libs.
</pre></div>
</div>
<p>Even though you have FreeType installed on your system <em>and</em> the
configure script finds it, does <em>NOT</em> mean you will have TrueType
font support. GD <em>MUST</em> be compiled against FreeType either way.</p>
</div>
<div class="section" id="px-anti-aliasing-and-segfaults">
<h3>1px Anti-Aliasing and segfaults<a class="headerlink" href="#px-anti-aliasing-and-segfaults" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Versions of libgd earlier than 2.0.34 contain a one very
significant bug and will <em>always</em> cause a segfault if
you attempt to do one pixel wide antialiasing.  You can manually
patch older gd&#8217;s, or better yet upgrade to at least GD 2.0.34.</p>
<p>In gd.c, function gdImageSetAAPixelColor() change:</p>
<div class="highlight-python"><div class="highlight"><pre>int dr,dg,db,p,r,g,b;
p = gdImageGetPixel(im,x,y);
</pre></div>
</div>
<p>to</p>
<div class="highlight-python"><div class="highlight"><pre>int dr,dg,db,p,r,g,b;
if (!gdImageBoundsSafeMacro (im, x, y)) return;
p = gdImageGetPixel(im,x,y);
</pre></div>
</div>
<p>More detail about this patch (if you need any) was described by Steve Lime
in a <a class="reference external" href="http://article.gmane.org/gmane.comp.gis.mapserver.user/17766">post to mapserver-users</a>.</p>
</div>
<div class="section" id="curved-label-support">
<h3>Curved label support<a class="headerlink" href="#curved-label-support" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>ANGLE FOLLOW, a new feature that allows MapServer to draw curved labels
about a linear feature like a road, requires libgd 2.0.29 and TrueType
font support.  Configure should autodetect if you have a sufficient
libgd and TrueType support to be able to use this feature.</p>
</div>
</div>
<div class="section" id="anti-grain-geometry-support">
<h2><a class="toc-backref" href="#table-of-contents">Anti-Grain Geometry Support</a><a class="headerlink" href="#anti-grain-geometry-support" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>Since version 5.0 MapServer supports the AGG rendering backend.
MapServer 5.6+ embeds it directly in the source tree and you do not have to
do anything special to have support for it.</p>
</div>
<div class="section" id="ogc-support">
<h2><a class="toc-backref" href="#table-of-contents">OGC Support</a><a class="headerlink" href="#ogc-support" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>MapServer provides support for many <a class="reference external" href="http://www.opengeospatial.org">OGC</a> specifications.  For an
overview, see <a class="reference internal" href="../ogc/ogc_support.html#ogc-support"><span>MapServer  OGC Specification support</span></a>.</p>
<div class="section" id="wms-support">
<h3>WMS support<a class="headerlink" href="#wms-support" title="Постійне посилання на цей заголовок">¶</a></h3>
<div class="section" id="wms-server">
<h4>WMS Server<a class="headerlink" href="#wms-server" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>Support for <cite>WMS server</cite> is automatically enabled.</p>
<p>You can check it by looking for the following in your configure
output:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * WMS SERVER: ENABLED
</pre></div>
</div>
<p>If, for some reason you don&#8217;t want WMS support, you can force it off
using &#8220;-DWITH_WMS=OFF&#8221;.</p>
<p>More information on using this feature is available in <a class="reference internal" href="../ogc/wms_server.html#wms-server"><span>WMS Server</span></a>.</p>
</div>
<div class="section" id="wms-client">
<h4>WMS Client<a class="headerlink" href="#wms-client" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>Cascading is also supported. This allows mapserver to transparently
fetch remote layers over WMS, basically acting like a client, and combine
them with other layers to generate the final map.</p>
<p>In order to enable this feature, you will need to pass the
WITH_CLIENT_WMS option to the configure script. MapServer will
automatically look for libcurl, which is also required.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * WMS CLIENT: ENABLED
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Примітка</p>
<p class="last">This feature is disabled by default, you have to specifically
request it.</p>
</div>
<p>More information on using this feature is available in <a class="reference internal" href="../ogc/wms_client.html#wms-client"><span>WMS Client</span></a>.</p>
</div>
</div>
<div class="section" id="wfs-support">
<h3>WFS support<a class="headerlink" href="#wfs-support" title="Постійне посилання на цей заголовок">¶</a></h3>
<div class="section" id="wfs-server">
<h4>WFS Server<a class="headerlink" href="#wfs-server" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>Support for <cite>WFS server</cite> is enabled by default. OGR and PROJ.4 support
is required.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * WFS SERVER: ENABLED
</pre></div>
</div>
<p>If, for some reason you don&#8217;t want WFS support, you can force it off
using &#8220;-DWITH_WFS=OFF&#8221;.</p>
<p>More information on using this feature is available in
<a class="reference internal" href="../ogc/wfs_server.html#wfs-server"><span>WFS Server</span></a>.</p>
</div>
<div class="section" id="wfs-client">
<h4>WFS Client<a class="headerlink" href="#wfs-client" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>MapServer can also act as a WFS client.  This effectively means that
MapServer reads it&#8217;s data from a remote server&#8217;s WFS output and
renders it into a map, just like it would when reading data from a
shapefile.</p>
<p>In order to enable this feature, you will need to make sure you have
OGR (built with Xerces support) and PROJ.4 support, and pass the
WITH_CLIENT_WFS option to your configure script.  MapServer will
automatically look for libcurl, which is also required.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * WFS CLIENT: ENABLED
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Примітка</p>
<p class="last">This feature is disabled by default, you have to specifically
request it.</p>
</div>
<p>More information on using this feature is available in <a class="reference internal" href="../ogc/wfs_client.html#wfs-client"><span>WFS Client</span></a>.</p>
</div>
<div class="section" id="wcs-server">
<h4>WCS Server<a class="headerlink" href="#wcs-server" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>Support for <cite>WCS server</cite> is enabled by default.  WCS must be compiled
against certain libraries.  More information on this service is
available in <a class="reference internal" href="../ogc/wcs_server.html#wcs-server"><span>WCS Server</span></a>.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * WCS SERVER: ENABLED
</pre></div>
</div>
<p>If, for some reason you don&#8217;t want WCS support, you can force it off
using &#8220;-DWITH_WCS=OFF&#8221;.</p>
</div>
<div class="section" id="sos-server">
<h4>SOS Server<a class="headerlink" href="#sos-server" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>Support for SOS is enabled by using the WITH_SOS option.  More
information on this service is available in <a class="reference internal" href="../ogc/sos_server.html#sos-server"><span>SOS Server</span></a>.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * SOS SERVER: ENABLED
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Примітка</p>
<p class="last">This feature is disabled by default, you have to specifically
request it.</p>
</div>
</div>
</div>
</div>
<div class="section" id="spatial-warehousing">
<h2><a class="toc-backref" href="#table-of-contents">Spatial Warehousing</a><a class="headerlink" href="#spatial-warehousing" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>MapServer can use a wide variety of sources of data input. One of the
solutions growing in popularity is to use spatially enabled databases to
store data, and to use them directly to draw maps for the web.</p>
<p>Here you will find out how to enable mapserver to talk to one of these
products. Please refer to the MapFile reference for more details on how to
use these. This section only details how to compile MapServer for their use.</p>
<div class="section" id="postgis">
<h3>PostGIS<a class="headerlink" href="#postgis" title="Постійне посилання на цей заголовок">¶</a></h3>
<p><a class="reference external" href="http://postgis.refractions.net">PostGIS</a> adds support for geographic objects to the <a class="reference external" href="http://www.postresql.org">PostgreSQL</a>
object-relational database. In effect, PostGIS &#8220;spatially enables&#8221; the
PostgreSQL server, allowing it to be used as a backend spatial
database for geographic information systems (GIS), much like ESRI&#8217;s
SDE or Oracle&#8217;s Spatial extension.  PostGIS is included in many
distributions&#8217; packaging system, but you can also roll your own if
needed.</p>
<p>MapServer can use PostGIS as a data source. PostGIS support is enabled
by default.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * POSTGIS: /usr/local/pgsql/lib/libpq.so
</pre></div>
</div>
<p>If, for some reason you don&#8217;t want PostGIS support, you can force it
off using &#8220;-DWITH_POSTGIS=OFF&#8221;.  To help cmake find your PostGIS
installation, you can use the CMAKE_PREFIX_PATH option
(for instance &#8220;-DCMAKE_PREFIX_PATH=/usr/local/pgsql&#8221;).</p>
</div>
<div class="section" id="arcsde">
<h3>ArcSDE<a class="headerlink" href="#arcsde" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>MapServer allows you to use SDE as a data source both for geometry and
attributes. In order to achieve this, you must have the SDE client libraries
at your disposition, and have them installed on the machine running MapServer.</p>
<p>In order to enable SDE support in MapServer, you have to use the
following options: WITH_SDE (&#8220;-dWITH_SDE=ON&#8221;) and SDE_VERSION (for
example &#8220;-DSDE_VERSION=91&#8221;).</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * SDE: /opt/arcsde/lib/libsde90.so
</pre></div>
</div>
</div>
<div class="section" id="oracle-spatial">
<h3>Oracle Spatial<a class="headerlink" href="#oracle-spatial" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>Oracle&#8217;s Spatial is also supported by MapServer.  In order to connect
to it, you will need to compile MapServer against the Oracle libraries
by using the WITH_ORACLESPATIAL option.  You will very likely need an
ORACLE_HOME environment variable set to have it configure things
correctly.</p>
<p>To verify that this feature is enabled, check the configure output
for:</p>
<div class="highlight-python"><div class="highlight"><pre>--   * Oracle Spatial: &lt;path to oracle spatial shared library&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="compiling">
<h2><a class="toc-backref" href="#table-of-contents">Compiling</a><a class="headerlink" href="#compiling" title="Постійне посилання на цей заголовок">¶</a></h2>
<p>First prepare the ground by making sure all of your required and/or
recommended libraries are installed before attempting to compile MapServer.
This will make your life much less complicated ;).  Here is the order that I
usually use:</p>
<ol class="arabic">
<li><p class="first">Compile GD.  This often means acquiring libjpeg, libpng, zlib, and
freetype before actually compiling the library.  You shouldn&#8217;t have too
much trouble finding binaries of the libraries that GD requires, and
often, they will already be installed with your system.  On unix, I&#8217;ve
had very little luck finding pre-compiled binaries of the required
GD library.  See <a class="reference internal" href="#libgd">libgd</a> section for notes about patching libgd if you
plan to use antialiasing.</p>
</li>
<li><p class="first">Compile GDAL/OGR.  Describing how to compile GDAL/OGR is beyond the scope
of this document.  If you have requirements for lots of different formats,
make sure to install those libraries first.  I often find that building
up a GDAL/OGR library often takes as long as compiling MapServer itself!</p>
</li>
<li><p class="first">Compile Proj.4.  Proj.4 is a straight-forward configure/make/make install
library.</p>
</li>
<li><p class="first">Compile libcurl.  libcurl is a straight-forward configure/make/make
install library.  This library is only used along with other
features, so &#8220;&#8211;with-curl-config&#8221; won&#8217;t do anything unless
something like &#8220;&#8211;with-wmsclient&#8221; or &#8220;&#8211;with-wfsclient&#8221; is also
selected.</p>
<div class="admonition note">
<p class="first admonition-title">Примітка</p>
<p class="last">If you want to configure MapServer to use SSL when accessing a
WMS/WFS server libcurl must be configured / compiled with the
&#8220;&#8211;with-ssl&#8221; option.  Details about how to set this up is
available in <a class="reference internal" href="../ogc/wxs_secure.html#wxs-secure"><span>How to set up MapServer as a client to access a service over https</span></a>.</p>
</div>
</li>
<li><p class="first">Compile/install optional libraries.  These might include SDE, PostGIS,
Oracle Spatial, AGG, Ming, PDFlib, or MyGIS.  Mix and match as you need
them.</p>
</li>
<li><p class="first">Unpack the MapServer tarball and cd into the mapserver directory:</p>
<div class="highlight-python"><div class="highlight"><pre>$ tar -zxvf mapserver-X.Y.Z.tar.gz
</pre></div>
</div>
</li>
<li><p class="first">Create the build directory and configure your environment.</p>
<p>Create the build directory:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd mapserver-X.Y.Z
$ mkdir build
$ cd build
</pre></div>
</div>
<p>Configure your environment using &#8220;cmake&#8221; (this is an example):</p>
<div class="highlight-python"><div class="highlight"><pre>$ cmake -DCMAKE_INSTALL_PREFIX=/opt \
        -DCMAKE_PREFIX_PATH=/usr/local/pgsql/91:/usr/local:/opt \
        -DWITH_CLIENT_WFS=ON \
        -DWITH_CLIENT_WMS=ON \
        -DWITH_CURL=ON \
        -DWITH_SOS=ON \
        -DWITH_PHP=ON \
        -DWITH_PYTHON=ON \
        -DWITH_SVGCAIRO=ON \
        -DWITH_ORACLESPATIAL=ON \
        -DWITH_MSSQL2008=ON \
        -DWITH_SDE=ON \
        -DSDE_VERSION=91 .. &gt;../configure.out.txt
</pre></div>
</div>
<p>The following options are enabled by default (version 6.4):
WITH_CAIRO, WITH_FCGI, WITH_FRIBIDI, WITH_GDAL, WITH_GEOS,
WITH_GIF, WITH_ICONV, WITH_LIBXML2, WITH_OGR, WITH_POSTGIS,
WITH_PROJ, WITH_WCS, WITH_WFS, WITH_WMS.</p>
<p>If you want to also build a static version of the library, the
BUILD_STATIC and LINK_STATIC_LIBMAPSERVER options can be used,</p>
<p>There are a number of other options available.  For an up-to-date
list of available cmake options, refer to the CMakeLists.txt.</p>
<p>It can be a good idea to place the configuration commands in a file
and change its mode to executable (+x) to save typing and have a
record of how MapServer was configured.</p>
</li>
<li><p class="first">Now that you have configured your build options and selected all the
libraries you wish mapserver to use, you&#8217;re ready to compile the
source code.</p>
<p>This is actually quite simple, just execute &#8220;make&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre>$ make
</pre></div>
</div>
</li>
<li><p class="first">Install the Mapserver libraries:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># make install</span>
</pre></div>
</div>
<p>To make sure all went well, look for the file called <em>mapserv</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>$ ls -al mapserv
-rwxr-xr-x  1 user user 13745 mars  11 17:45 mapserv
</pre></div>
</div>
<p>A simple test is to try and run it:</p>
<div class="highlight-python"><div class="highlight"><pre>$ ./mapserv
This script can only be used to decode form results and
should be initiated as a CGI process via a httpd server.
</pre></div>
</div>
<p>The message above is perfectly normal, and means exactly what it says.
If you get anything else, something went terribly wrong.</p>
</li>
</ol>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#table-of-contents">Installation</a><a class="headerlink" href="#installation" title="Постійне посилання на цей заголовок">¶</a></h2>
<div class="section" id="mapserver-binary">
<h3>MapServer binary<a class="headerlink" href="#mapserver-binary" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>The MapServer program itself consists of only one file, the &#8220;mapserv&#8221; binary
executable. This is a CGI executable, meant to be called and run by your
web server.</p>
<p>In this section, we will assume you are running Apache under its default
directory structure in /usr/local/apache2. You may need to have privileges
to edit your httpd.conf (the main apache configuration file), or have
someone (such as your webmaster) help you with the configuration details.</p>
<p>If you don&#8217;t have apache installed, and you want apache, php, fastcgi,
etc, that might look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>$ apt-get install -y apache2 apache2-mpm-worker libapache2-mod-fastcgi
$ a2enmod actions fastcgi alias
$ apt-get install libapache2-mod-php5 php5-common php5-cli php5-fpm php5
</pre></div>
</div>
<p>The main goal is to get the &#8220;mapserv&#8221; binary installed in a publicly
accessible directory that is configured to run CGI programs and scripts.</p>
<ol class="arabic">
<li><p class="first">Locate your cgi-bin directory.  Under a default configuration, the
CGI directory is &#8220;/usr/local/apache2/cgi-bin&#8221; (RedHat:
&#8220;/home/httpd/cgi-bin&#8221;, Debian: &#8220;/usr/lib/cgi-bin&#8221;).  If you&#8217;re
using apache, there should be a ScriptAlias directive in your
http.conf, or default site, something like:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cat /etc/apache2/sites-available/default | grep &#39;cgi-bin&#39;
ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
</pre></div>
</div>
</li>
<li><p class="first">Locate the installation path of your freshly compiled mapserv
executable.  This is shown when you run &#8220;make install&#8221;,
something like this:</p>
<div class="highlight-python"><div class="highlight"><pre>-- Installing: /usr/local/bin/mapserv
-- Set runtime path of &quot;/usr/local/bin/mapserv&quot; to
      &quot;/usr/local/lib:/usr/local/pgsql/91/lib&quot;
</pre></div>
</div>
</li>
<li><p class="first">You&#8217;ll want to setup a symlink to that executable from your cgi-bin
directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># ln -s /usr/local/bin/mapserv /usr/lib/cgi-bin/mapserv</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Попередження</p>
<p class="last">Make sure you are linking against the installed mapserv file (after
running &#8216;make install&#8217;) and NOT against where it was compiled in
your source tree.</p>
</div>
</li>
</ol>
<div class="section" id="testing-your-new-install">
<h4>Testing your new Install<a class="headerlink" href="#testing-your-new-install" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>Placing the mapserv file in this directory makes it accessible by the
following URL:
&#8220;<a class="reference external" href="http://yourhostname.com/cgi-bin/mapserv">http://yourhostname.com/cgi-bin/mapserv</a>&#8221;. When accessing this URL through your
web client, you should expect the following output if all has worked well:
&#8220;No query information to decode. QUERY_STRING is set, but empty.&#8221; If you get
this message, you&#8217;re done installing MapServer.</p>
</div>
</div>
<div class="section" id="common-problems">
<h3>Common problems<a class="headerlink" href="#common-problems" title="Постійне посилання на цей заголовок">¶</a></h3>
<div class="section" id="file-permissions">
<h4>File permissions<a class="headerlink" href="#file-permissions" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>The most common problem one is likely to encounter when attempting to
install the binary are permissions issues:</p>
<ul>
<li><p class="first">You do not have write permissions into your web server&#8217;s CGI Directory.
Ask your webmaster to install the file for you.</p>
</li>
<li><p class="first">The web server gives you a &#8220;403 Permission denied&#8221; error. Make sure the
user the web server runs as (usually &#8220;nobody&#8221;) has execute permission on
the binary executable. Making the file world executable is perfectly
fine and safe:</p>
<div class="highlight-python"><div class="highlight"><pre>$ chmod o+x mapserv
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="apache-errors">
<h4>Apache errors<a class="headerlink" href="#apache-errors" title="Постійне посилання на цей заголовок">¶</a></h4>
<p>You may receive a few different type of errors as well if your web
server configuration isn&#8217;t right:</p>
<ul>
<li><p class="first">500 Internal server error: This is a fairly generic error message.
All it basically tells you is that the web server was unsuccessful
in running the program. You will have to consult the web server&#8217;s error
log to find out more, and may need to enlist the help of your
webmaster/system administrator.  The apache docs also have pointers
on <a class="reference external" href="http://httpd.apache.org/docs/2.2/howto/cgi.html">setting up cgi-bin</a>.</p>
<blockquote>
<div><dl class="docutils">
<dt>::</dt>
<dd><p class="first last">Check your server logs
$ tail /var/log/apache2/error.log</p>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="where-to-go-once-you-ve-got-it-compiled">
<h3>Where to go once you&#8217;ve got it compiled<a class="headerlink" href="#where-to-go-once-you-ve-got-it-compiled" title="Постійне посилання на цей заголовок">¶</a></h3>
<p>The <a class="reference internal" href="../introduction.html#introduction"><span>An Introduction to MapServer</span></a> document provides excellent coverage of getting started
with MapServer.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Compiling on Unix</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#obtaining-the-necessary-software">Obtaining the necessary software</a><ul>
<li><a class="reference internal" href="#required-external-libraries">Required External Libraries</a></li>
<li><a class="reference internal" href="#highly-recommended-libraries">Highly Recommended Libraries</a></li>
<li><a class="reference internal" href="#optional-external-libraries">Optional External Libraries</a></li>
<li><a class="reference internal" href="#optional-features">Optional Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#libgd">libgd</a><ul>
<li><a class="reference internal" href="#minimum-libgd-versions">Minimum libgd versions</a></li>
<li><a class="reference internal" href="#libiconv">libiconv</a></li>
<li><a class="reference internal" href="#pre-packaged-system-libraries">Pre-packaged/system libraries</a></li>
<li><a class="reference internal" href="#macosx">MacOSX</a></li>
<li><a class="reference internal" href="#freetype-support">FreeType support</a></li>
<li><a class="reference internal" href="#px-anti-aliasing-and-segfaults">1px Anti-Aliasing and segfaults</a></li>
<li><a class="reference internal" href="#curved-label-support">Curved label support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#anti-grain-geometry-support">Anti-Grain Geometry Support</a></li>
<li><a class="reference internal" href="#ogc-support">OGC Support</a><ul>
<li><a class="reference internal" href="#wms-support">WMS support</a><ul>
<li><a class="reference internal" href="#wms-server">WMS Server</a></li>
<li><a class="reference internal" href="#wms-client">WMS Client</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wfs-support">WFS support</a><ul>
<li><a class="reference internal" href="#wfs-server">WFS Server</a></li>
<li><a class="reference internal" href="#wfs-client">WFS Client</a></li>
<li><a class="reference internal" href="#wcs-server">WCS Server</a></li>
<li><a class="reference internal" href="#sos-server">SOS Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#spatial-warehousing">Spatial Warehousing</a><ul>
<li><a class="reference internal" href="#postgis">PostGIS</a></li>
<li><a class="reference internal" href="#arcsde">ArcSDE</a></li>
<li><a class="reference internal" href="#oracle-spatial">Oracle Spatial</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compiling">Compiling</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#mapserver-binary">MapServer binary</a><ul>
<li><a class="reference internal" href="#testing-your-new-install">Testing your new Install</a></li>
</ul>
</li>
<li><a class="reference internal" href="#common-problems">Common problems</a><ul>
<li><a class="reference internal" href="#file-permissions">File permissions</a></li>
<li><a class="reference internal" href="#apache-errors">Apache errors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#where-to-go-once-you-ve-got-it-compiled">Where to go once you&#8217;ve got it compiled</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Швидкий пошук</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Вперед" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Введіть пошуковий термін, модуль, клас чи назву функції.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Regents of the University of Minnesota.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>