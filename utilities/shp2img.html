<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>shp2img &mdash; MapServer 7.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.1 documentation" href="../index.html" />
    <link rel="up" title="Utilities" href="index.html" />
    <link rel="next" title="shptree" href="shptree.html" />
    <link rel="prev" title="scalebar" href="scalebar.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/utilities/shp2img.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/utilities/shp2img.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/utilities/shp2img.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/utilities/shp2img.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/utilities/shp2img.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/utilities/shp2img.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/utilities/shp2img.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/utilities/shp2img.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/utilities/shp2img.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/utilities/shp2img.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/utilities/shp2img.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/utilities/shp2img.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/utilities/shp2img.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        
        
          <a href="../uk/utilities/shp2img.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="shptree.html" title="shptree"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="scalebar.html" title="scalebar"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.0.1 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Utilities</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="shp2img">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents">shp2img</a><a class="headerlink" href="#shp2img" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jeff McKenna</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jmckenna at gatewaygeomatics.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body">2016-03-11</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#shp2img" id="id2">shp2img</a><ul>
<li><a class="reference internal" href="#purpose" id="id3">Purpose</a></li>
<li><a class="reference internal" href="#syntax" id="id4">Syntax</a><ul>
<li><a class="reference internal" href="#example-1-generate-a-map-image" id="id5">Example #1 Generate a Map Image</a></li>
<li><a class="reference internal" href="#example-2-generate-a-map-image-with-draw-speeds" id="id6">Example #2 Generate a Map Image with Draw Speeds</a></li>
<li><a class="reference internal" href="#example-3-generate-a-map-image-with-debug-information-for-all-layers" id="id7">Example #3 Generate a Map Image with Debug Information for all Layers</a></li>
<li><a class="reference internal" href="#example-4-generate-a-map-image-for-a-specific-layer" id="id8">Example #4 Generate a Map Image for a Specific Layer</a></li>
<li><a class="reference internal" href="#example-5-generate-a-map-image-for-specific-multiple-layers" id="id9">Example #5 Generate a Map Image for Specific (Multiple) Layers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="purpose">
<h2><a class="toc-backref" href="#table-of-contents">Purpose</a><a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>Creates a map image from a mapfile. Output is by default PNG, but you can specify
other output formats defined in the mapfile.  This is a very useful utility to test your
mapfile. You can simply provide the path to your mapfile and the name of an output
image, and an image should be returned. If an image cannot be created an error will
be displayed at the commandline that should refer to a line number in the mapfile.</p>
</div>
<div class="section" id="syntax">
<h2><a class="toc-backref" href="#table-of-contents">Syntax</a><a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span></span>shp2img -m mapfile [-o image] [-e minx miny maxx maxy] [-s sizex sizey]
       [-l &quot;layer1 [layers2...]&quot;] [-i format]
       [-all_debug n] [-map_debug n] [-layer_debug n] [-p n] [-c n] [-d
      layername datavalue]
-m mapfile: Map file to operate on - required
-i format: Override the IMAGETYPE value to pick output format
-o image: output filename (stdout if not provided)
-e minx miny maxx maxy: extents to render
-s sizex sizey: output image size
-l layers: layers to enable - make sure they are quoted and space separated
   if more than one listed
-all_debug n: Set debug level for map and all layers
-map_debug n: Set map debug level
-layer_debug layer_name n: Set layer debug level
-c n: draw map n number of times
-p n: pause for n seconds after reading the map
-d layername datavalue: change DATA value for layer
</pre></div>
</div>
<div class="section" id="example-1-generate-a-map-image">
<h3><a class="toc-backref" href="#table-of-contents">Example #1 Generate a Map Image</a><a class="headerlink" href="#example-1-generate-a-map-image" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>shp2img -m vector_blank.map -o test.png
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test.png&#8217; is created, that you can drag into your browser to view.</dd>
</dl>
</div>
<div class="section" id="example-2-generate-a-map-image-with-draw-speeds">
<h3><a class="toc-backref" href="#table-of-contents">Example #2 Generate a Map Image with Draw Speeds</a><a class="headerlink" href="#example-2-generate-a-map-image-with-draw-speeds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>shp2img -m gmap75.map -o test2.png -map_debug 3
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test2.png&#8217; is created, and layer draw speeds are returned such as:</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span></span>msDrawMap(): rendering using outputformat named png (AGG/PNG).
msDrawMap(): WMS/WFS set-up and query, 0.000s
msDrawRasterLayerLow(bathymetry): entering.
msDrawMap(): Layer 0 (bathymetry), 0.011s
msDrawMap(): Layer 1 (land_fn), 0.016s
msDrawMap(): Layer 3 (drain_fn), 0.006s
msDrawMap(): Layer 4 (drainage), 0.041s
msDrawMap(): Layer 5 (prov_bound), 0.025s
msDrawMap(): Layer 6 (fedlimit), 0.001s
msDrawMap(): Layer 9 (popplace), 0.007s
msDrawMap(): Drawing Label Cache, 0.004s
msDrawMap() total time: 0.119s
msSaveImage(test2.png) total time: 0.034s
</pre></div>
</div>
</div>
<div class="section" id="example-3-generate-a-map-image-with-debug-information-for-all-layers">
<h3><a class="toc-backref" href="#table-of-contents">Example #3 Generate a Map Image with Debug Information for all Layers</a><a class="headerlink" href="#example-3-generate-a-map-image-with-debug-information-for-all-layers" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>shp2img -m gmap75.map -o test3.png -all_debug 3
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test3.png&#8217; is created, layer draw speeds are returned,
and some warnings that index qix files are not found, such as:</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span></span>msLoadMap(): 0.002s
msDrawMap(): rendering using outputformat named png (AGG/PNG).
msDrawMap(): WMS/WFS set-up and query, 0.000s
msDrawRasterLayerLow(bathymetry): entering.
msDrawRasterLayerGDAL(): Entering transform.
msDrawRasterLayerGDAL(): src=72,418,3077,2308, dst=0,0,400,300
msDrawRasterLayerGDAL(): source raster PL (72.095,417.533) for dst PL (0,0).
msDrawRasterLayerGDAL(): red,green,blue,alpha bands = 1,0,0,0
msDrawMap(): Layer 0 (bathymetry), 0.017s
msSearchDiskTree(): Search returned no results. Unable to open spatial index for D:\ms4w\a
pps\gmap\htdocs/.\../data/land_fn.qix. In most cases you can safely ignore this message, o
therwise check file names and permissions.
msDrawMap(): Layer 1 (land_fn), 0.020s
msSearchDiskTree(): Search returned no results. Unable to open spatial index for D:\ms4w\a
pps\gmap\htdocs/.\../data/drain_fn.qix. In most cases you can safely ignore this message,
otherwise check file names and permissions.
msDrawMap(): Layer 3 (drain_fn), 0.009s
msDrawMap(): Layer 4 (drainage), 0.040s
msSearchDiskTree(): Search returned no results. Unable to open spatial index for D:\ms4w\a
pps\gmap\htdocs/.\../data/province.qix. In most cases you can safely ignore this message,
otherwise check file names and permissions.
msDrawMap(): Layer 5 (prov_bound), 0.029s
msSearchDiskTree(): Search returned no results. Unable to open spatial index for D:\ms4w\a
pps\gmap\htdocs/.\../data/fedlimit.qix. In most cases you can safely ignore this message,
otherwise check file names and permissions.
msDrawMap(): Layer 6 (fedlimit), 0.005s
msDrawMap(): Layer 9 (popplace), 0.007s
msDrawMap(): Drawing Label Cache, 0.005s
msDrawMap() total time: 0.142s
msSaveImage(test3.png) total time: 0.063s
shp2img total time: 0.209s
</pre></div>
</div>
</div>
<div class="section" id="example-4-generate-a-map-image-for-a-specific-layer">
<h3><a class="toc-backref" href="#table-of-contents">Example #4 Generate a Map Image for a Specific Layer</a><a class="headerlink" href="#example-4-generate-a-map-image-for-a-specific-layer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span></span>shp2img -m gmap75.map -o test4.png -l &quot;bathymetry&quot; -map_debug 3
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test4.png&#8217; is created, and layer draw speeds are returned for
1 layer only, such as:</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span></span>msDrawMap(): rendering using outputformat named png (AGG/PNG).
msDrawMap(): WMS/WFS set-up and query, 0.000s
msDrawRasterLayerLow(bathymetry): entering.
msDrawMap(): Layer 0 (bathymetry), 0.013s
msDrawMap(): Drawing Label Cache, 0.000s
msDrawMap() total time: 0.018s
msSaveImage(test4.png) total time: 0.026s
</pre></div>
</div>
</div>
<div class="section" id="example-5-generate-a-map-image-for-specific-multiple-layers">
<h3><a class="toc-backref" href="#table-of-contents">Example #5 Generate a Map Image for Specific (Multiple) Layers</a><a class="headerlink" href="#example-5-generate-a-map-image-for-specific-multiple-layers" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The syntax for specifying multiple layers is: -l &#8220;layer1 layer2 layer3 layer4&#8221;</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span>shp2img -m gmap75.map -o test5.png -l &quot;bathymetry drain_fn&quot; -map_debug 3
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named &#8216;test5.png&#8217; is created, and layer draw speeds are returned for
only the 2 specified layers, such as:</dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span></span>msDrawMap(): rendering using outputformat named png (AGG/PNG).
msDrawMap(): WMS/WFS set-up and query, 0.000s
msDrawRasterLayerLow(bathymetry): entering.
msDrawMap(): Layer 0 (bathymetry), 0.179s
msDrawMap(): Layer 3 (drain_fn), 0.041s
msDrawMap(): Drawing Label Cache, 0.000s
msDrawMap() total time: 0.226s
msSaveImage(test4.png) total time: 0.027s
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">shp2img</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a><ul>
<li><a class="reference internal" href="#example-1-generate-a-map-image">Example #1 Generate a Map Image</a></li>
<li><a class="reference internal" href="#example-2-generate-a-map-image-with-draw-speeds">Example #2 Generate a Map Image with Draw Speeds</a></li>
<li><a class="reference internal" href="#example-3-generate-a-map-image-with-debug-information-for-all-layers">Example #3 Generate a Map Image with Debug Information for all Layers</a></li>
<li><a class="reference internal" href="#example-4-generate-a-map-image-for-a-specific-layer">Example #4 Generate a Map Image for a Specific Layer</a></li>
<li><a class="reference internal" href="#example-5-generate-a-map-image-for-specific-multiple-layers">Example #5 Generate a Map Image for Specific (Multiple) Layers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>