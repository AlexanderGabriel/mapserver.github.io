<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mapfile &mdash; MapServer 7.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.1 documentation" href="../index.html" />
    <link rel="up" title="Optimisation" href="index.html" />
    <link rel="next" title="Raster" href="raster.html" />
    <link rel="prev" title="FastCGI" href="fastcgi.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../optimization/mapfile.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/optimization/mapfile.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/optimization/mapfile.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/optimization/mapfile.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/optimization/mapfile.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/optimization/mapfile.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/optimization/mapfile.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/optimization/mapfile.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/optimization/mapfile.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/optimization/mapfile.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/optimization/mapfile.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/optimization/mapfile.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/optimization/mapfile.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../uk/optimization/mapfile.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="raster.html" title="Raster"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="fastcgi.html" title="FastCGI"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation de MapServer 7.0.1</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Optimisation</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="mapfile">
<span id="mapfile-tuning"></span><span id="index-0"></span><h1><a class="toc-backref" href="#table-of-contents">Mapfile</a><a class="headerlink" href="#mapfile" title="Lien permanent vers ce titre">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">David Fawcett</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">david.fawcett at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Revision:</th><td class="field-body">$Revision$</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">$Date$</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body"><p class="first last">01/08/2007</p>
</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table des matières</p>
<ul class="simple">
<li><a class="reference internal" href="#mapfile" id="id1">Mapfile</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#table-of-contents">Introduction</a><a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le contenu d&#8217;un fichier Map est utilisé par MapServer pour la configuration, l&#8217;accès aux données, la projection et beaucoup d&#8217;autres choses. Parce que le fichier Map est lu à chaque fois une image de carte est demandée, il est important de réfléchir ce que vous incluez dans le fichier afin d&#8217;optimiser les performances. Le fichier Map optimal est celui qui n&#8217;inclus rien d&#8217;autres que ce qui est nécessaire.</p>
<div class="section" id="projections">
<span id="index-1"></span><h3>1. Projections<a class="headerlink" href="#projections" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il existe deux façons de définir des projections dans un fichier de la carte . Vous pouvez soit utiliser les paramètres de projection inline ou spécifier un code EPSG pour cette projection. Si vous utilisez le : terme: <cite>Méthode code EPSG</cite> , : terme: ` Proj.4` regarde les paramètres de projection dans la base de données Proj4 utilisant le code EPSG comme ID . Cette recherche de base de données prend beaucoup plus de ressources que lorsque les paramètres de projection sont définies inline . Cette recherche a lieu pour chaque définition de projection utilisant des codes EPSG dans un fichier de la carte .</p>
<p><strong>Projection définie en utilisant des paramètres de projection &#8220;en ligne&#8221;</strong></p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROJECTION</span>
  <span class="s">&quot;proj=utm&quot;</span>
  <span class="s">&quot;ellps=GRS80&quot;</span>
  <span class="s">&quot;datum=NAD83&quot;</span>
  <span class="s">&quot;zone=15&quot;</span>
  <span class="s">&quot;units=m&quot;</span>
  <span class="s">&quot;north&quot;</span>
  <span class="s">&quot;no_defs&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
<p><strong>Projection définie en utilisant un code EPSG</strong></p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROJECTION</span>
   <span class="s">&quot;init=epsg:26915&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
<p><strong>Suggestions d&#8217;optimisation</strong></p>
<ul class="simple">
<li><p class="first">Utiliser des définitions de paramètres de projection &#8220;en ligne&#8221; au lieu des codes EPSG.</p>
</li>
<li><p class="first">Si vous voulez utiliser les codes EPSG, enlever tous les enregistrements de projections inutiles de la base de données <a class="reference internal" href="../glossary.html#term-epsg"><span class="xref std std-term">EPSG</span></a> Proj.4.</p>
</li>
</ul>
</div>
<div class="section" id="layers">
<span id="index-2"></span><h3>2. Layers<a class="headerlink" href="#layers" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour chaque couche dans un fichier map qui a un statut à ON ou à DEFAULT, MapServer chargera cette couche et la préparera pour l&#8217;affichage, même si cette couche n&#8217;est jamais affichée.</p>
<p><strong>Suggestions d&#8217;optimisation</strong></p>
<ul class="simple">
<li><p class="first">Construire des mapfiles les plus minimaux, inclure seulement des couches que vous avez prévu d&#8217;utiliser.</p>
</li>
<li><p class="first">Éteignez les couches inutiles ; Plus Les couches affiche par MapServer , plus le temps qu&#8217;il faut. Ayez votre carte ouverture vue c&#8217;est le minimum nécessaire pour orienter l&#8217;utilisateur , et leur permettre de tourner sur des couches supplémentaires au besoin. Cela est particulièrement vrai de WMS distants ou de très grandes trames .</p>
</li>
<li><p class="first">Liée à la désactivation des couches , est de les activer , mais en utilisant MINSCALEDENOM et MAXSCALEDENOM de déterminer à quel zoomlevels la couche est disponible . Si l&#8217;affichage de la carte est en dehors de MINSCALEDENOM de la couche et la gamme de MAXSCALEDENOM , MapServer peut ignorer le traitement de cette couche. Il rend également pour un effet vraiment cool , que les frontières nationales changent magiquement au frontières de l&#8217;Etat .</p>
</li>
<li><p class="first">Si vous avez une application complexe, considérez l&#8217;usage de plusieurs mapfiles simples et spécifiques plutôt qu&#8217;un seul gros fichier mapfile &#8216;tout en un&#8217;.</p>
</li>
<li><p class="first">Dans la même veine , chaque classe prend également en charge MINSCALEDENOM et MAXSCALEDENOM . Si votre ensemble de données contient des données qui sont pertinentes à différents zoomlevels , alors vous pouvez trouver ça comme une astuce très pratique . Par exemple , donner un MINSCALEDENOM de 1: 1000000 , routes départementales un de MINSCALEDENOM de 1: 100000 , et les rues un MAXSCALEDENOM de 1: 50000 . Vous obtenez l&#8217;effet fraîcheur de nouvelles données qui apparaissent comme par magie , mais vous n&#8217;avez pas MapServer essayant pour attirant les routes du pays où toute la nation est en vue !</p>
</li>
<li><p class="first">Les classes sont traitées dans l&#8217;ordre , et une fonctionnalité est affectée à la première classe qui correspond . Donc, essayez de placer les classes les plus couramment utilisés dans le haut de la liste de classe , alors MapServer n&#8217;a pas avoir à essayer autant de classes avant de trouver un match . Par exemple , si vous voulez mettre en évidence l&#8217;état unique de Wyoming, vous auriez probablement le faire.</p>
</li>
</ul>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">CLASS</span>
   <span class="k">EXPRESSION</span> <span class="p">(</span><span class="s">&#39;[NAME]&#39;</span> <span class="ow">eq</span> <span class="s">&#39;WY&#39;</span><span class="p">])</span>
   <span class="k">STYLE</span>
     <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
   <span class="k">END</span>
<span class="k">END</span>
<span class="k">CLASS</span>
   <span class="k">STYLE</span>
   <span class="k">COLOR</span> <span class="mi">128</span> <span class="mi">128</span> <span class="mi">128</span>
   <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<p>Mais cela sera beaucoup plus efficace de faire ceci, comme 98% des cas seront vérifiés au premier essai :</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">CLASS</span>
  <span class="k">EXPRESSION</span> <span class="p">(</span><span class="s">&#39;[NAME]&#39;</span> <span class="ow">ne</span> <span class="s">&#39;WY&#39;</span><span class="p">])</span>
  <span class="k">STYLE</span>
    <span class="k">COLOR</span> <span class="mi">128</span> <span class="mi">128</span> <span class="mi">128</span>
  <span class="k">END</span>
<span class="k">END</span>
<span class="k">CLASS</span>
  <span class="k">STYLE</span>
    <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<ul class="simple">
<li><p class="first">Utiliser les <a class="reference internal" href="tileindex.html#tileindex"><span>index de tuiles</span></a> au lieu de plusieurs couches.</p>
</li>
</ul>
</div>
<div class="section" id="symbols">
<span id="index-3"></span><h3>3. Symbols<a class="headerlink" href="#symbols" title="Lien permanent vers ce titre">¶</a></h3>
<p>Quand un mapfile est chargé, chaque symbole raster listé dans le fichier de symboles est récupéré depuis le système de fichiers et chargé.</p>
<p><strong>Suggestions d&#8217;optimisation</strong></p>
<ul class="simple">
<li><p class="first">Inclure seulement les symboles raster dans votre fichier de symboles si vous savez qu&#8217;ils seront utilisés par votre application.</p>
</li>
</ul>
</div>
<div class="section" id="fonts">
<span id="index-4"></span><h3>4. Fonts<a class="headerlink" href="#fonts" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour charger une police, MapServer ouvre le fichier fonts.list: ref: <cite>fontset</cite> qui contient un alias pour la police et le chemin pour ce fichier de police. Si vous avez un fichier fonts.list avec une longue liste de polices, il faudra plus de temps pour MapServer pour localiser et charger la police que vous avez besoin.</p>
<p><strong>Suggestions d&#8217;optimisation</strong></p>
<ul class="simple">
<li><p class="first">Limiter les entrées dans le fichier fonts.list aux polices que vous utilisez véritablement.</p>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Mapfile</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#projections">1. Projections</a></li>
<li><a class="reference internal" href="#layers">2. Layers</a></li>
<li><a class="reference internal" href="#symbols">3. Symbols</a></li>
<li><a class="reference internal" href="#fonts">4. Fonts</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>